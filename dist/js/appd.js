function MainViewModel(e){var i=this;i.currencies=ko.observableArray([new Currency("EUR",1),new Currency("USD",0),new Currency("CHF",0),new Currency("GBP",0),new Currency("AUD",0),new Currency("CAD",0),new Currency("CZK",0)]),i.searchTerm=ko.observable(""),i.status=ko.observable(""),i.Rome={lat:41.9,lng:12.5},i.map=new google.maps.Map(document.getElementById("romeMap"),{zoom:13,center:i.Rome}),i.infoWindow=new google.maps.InfoWindow({zIndex:2}),i.latLngFinder=new google.maps.Geocoder,i.container=ko.observable(new LocContainer(e,i.map,i.infoWindow)),i.container().wikiGets(i.latLngFinder),i.setView=function(e){i.container().setView(e)},i.searchIt=function(){i.container().search(i.searchTerm()),console.log(i.searchTerm())},i.fixerio_update=function(){jQuery.getJSON("http://api.fixer.io/latest",function(e){for(var a=0;a<i.currencies().length;a++)"EUR"==i.currencies()[a].name()?i.currencies()[a].value(1):i.currencies()[a].value(e.rates[i.currencies()[a].name()]);i.status("Passing Ajax Request."),setTimeout(i.fixerio_update,3e5)}).fail(function(){i.status("Failing Ajax Request. Sticking to last known exchange rate")})},i.fixerio_api=function(){jQuery.getJSON("http://api.fixer.io/latest",function(e){for(var a=0;a<i.currencies().length;a++)"EUR"==i.currencies()[a].name()?i.currencies()[a].value(1):i.currencies()[a].value(e.rates[i.currencies()[a].name()]);i.status("Passing Ajax Request."),setTimeout(i.fixerio_update,3e5)}).fail(function(){i.status("Failing Ajax Request. Sticking to last known exchange rate")})},i.fixerio_api(),i.setView(0)}function initialize(){main=new MainViewModel(locationData),ko.applyBindings(main)}function initMap(){google.maps.event.addDomListener(window,"load",initialize)}function googleError(){var e=$("#romeMap");console.log("onError runs!"),e.html("<div id='googleError'><h1>Error Loading Google Maps!!!</h1><p>Please contact Jacob Bryan at jake@jakebryan.me for assistance in fixing the problem!</p></div>")}var locationData={"rome-app":[{name:"Colosseum",address:["Piazza del Colosseo, Rome, Italy"],website:"http://www.coopculture.it/en/the-colosseum.cfm",wiki:"https://en.wikipedia.org/wiki/Colosseum",type:0,keywords:["gladiator","fight","ring","games","sport"]},{name:"Pantheon, Rome",address:["Piazza della Rotonda, 00186 Roma, Italy"],website:"http://www.turismoroma.it/cosa-fare/pantheon?lang=en",wiki:"https://en.wikipedia.org/wiki/Pantheon,_Rome",type:0,keywords:["church","dome","temple"]},{name:"St. Peter's Basilica",address:["Piazza San Pietro, 00120 CittÃ  del Vaticano, Vatican City"],website:"http://www.vaticanstate.va/content/vaticanstate/en/monumenti/basilica-di-s-pietro.html",wiki:"https://en.wikipedia.org/wiki/St._Peter%27s_Basilica",type:0,keywords:["church","basilica","vatican","pope","peter","saint"]},{name:"Pyramid of Cestia",address:["Via Raffaele Persichetti, 00153 Roma, Italy"],website:"http://www.coopculture.it/en/heritage.cfm?id=59",wiki:"https://en.wikipedia.org/wiki/Pyramid_of_Cestius",type:0,keywords:["pyramid","gaius","cestius","tomb","ruins"]},{name:"Underground Basilica of Porta Maggiore",address:["Piazzale Labicano angolo via Prenestina, Via Prenestina, Roma, Italy"],website:"http://archeoroma.beniculturali.it/en/archaeological-site/underground-basilica-near-porta-maggiore",wiki:"https://en.wikipedia.org/wiki/Underground_basilica_of_Porta_Maggiore",type:0,keywords:["basilica","underground","neopythagoreans"]},{name:"Palazzo Delle Esposizioni",address:["Via Nazionale, 194, 00184 Roma, Italy"],website:"http://english.palazzoesposizioni.it/Home.aspx",wiki:"https://en.wikipedia.org/wiki/Palazzo_delle_Esposizioni",type:0,keywords:["exhibition","hall","cultural","center","museum"]},{name:"Palatine Hill",address:["Via della Salara Vecchia, 5/6, Roma, Italy"],website:"http://www.coopculture.it/en/heritage.cfm?id=4",wiki:"https://en.wikipedia.org/wiki/Palatine_Hill",type:0,keywords:["palatine","hill","forum","ruins","ancient","rome"]},{name:"Tourist Information Centers",address:["Via Giovanni Giolitti 34, Roma, Italy"],website:"http://www.turismoroma.it/info_viaggio/pit",wiki:"none",type:1,keywords:["information","center","pit","point"]},{name:"Roma Termini",address:["Roma Termini, Italy"],website:"http://www.trenitalia.com/tcom-en",wiki:"https://en.wikipedia.org/wiki/Roma_Termini_railway_station",type:3,keywords:["trains","station","choo"]},{name:"Trevi Fountain",address:["Piazza di Trevi, 00187 Roma, Italy"],website:"http://www.trevifountain.net/",wiki:"https://en.wikipedia.org/wiki/Trevi_Fountain",type:0,keywords:["trevi","fountain","wish","salvi","bracci"]}]},Location=function(e,i,a){var o=this;o.name=i.name||"",o.address=i.address||[],o.wiki=i.wiki||"",o.type=i.type||0,o.website=i.website||"",o.keywords=i.keywords||[],o.hasMarker=ko.observable(!1),o.markers=[],o.visible=ko.observable(!0),o.wikiDisplay="",o.map=e,o.info=a};Location.prototype=Object.create(Object.prototype),Location.prototype.constructor=Location,Location.prototype.setFocus=function(){var e=this;google.maps.event.trigger(e.markers[0],"click")},Location.prototype.unsetFocus=function(e){var i=this;e||google.maps.event.trigger(i.markers[0],"click"),console.log("Ran thru unset Focus")},Location.prototype.addMarker=function(e,i){var a=this;if(i==google.maps.GeocoderStatus.OK){for(var o=-1,t=-1,n=-1,r=0,s=e.length-1;s>=0;s--){var c=e[s].geometry.location_type;"ROOFTOP"==c?o=s:"GEOMETRIC_CENTER"==c?n=s:"APPROXIMATE"==c&&(t=s)}o>=0?r=o:t>=0?r=t:n>=0&&(r=n),a.markers.push(new google.maps.Marker({position:{lat:e[r].geometry.location.lat(),lng:e[r].geometry.location.lng()},draggable:!1,animation:google.maps.Animation.DROP,map:a.map,title:a.name}));var l=a.markers.length-1;return a.markers[l].addListener("click",function(){null!==a.markers[l].getAnimation()?(a.markers[l].setAnimation(null),a.info.close()):(a.markers[l].setAnimation(google.maps.Animation.BOUNCE),a.info.setContent(a.wikiDisplay),a.info.open(a.map,a.markers[l]))}),a.info.addListener("closeclick",function(){a.info.close(),a.markers[l].setAnimation(null)}),a.hasMarker(!0),0}return console.log("Error trying to access the Geocoder. Status:",i),-1},Location.prototype.isVisible=function(e){var i=this;if(i.visible(e),e)for(var a=i.markers.length-1;a>=0;a--)i.markers[a].setMap(i.map);else for(var o=i.markers.length-1;o>=0;o--)i.markers[o].setMap(null)},Location.prototype.search=function(e){var i=this,a=e.toLowerCase();if(0===a.length)return i.isVisible(!0),!0;if(i.name.toLowerCase().includes(a))return i.isVisible(!0),!0;for(var o=i.keywords.length-1;o>=0;o--)if(i.keywords[o].toLowerCase().includes(a))return i.isVisible(!0),!0;return i.isVisible(!1),!1},Location.prototype.wikiGet=function(e){var i=this,a="https://en.wikipedia.org/w/api.php",o=setTimeout(function(){console.log("Failed AJAX request");var e='<h3>%NAME%</h3><p>Could not find any data from Wikipedia from this location but you can go to the website <a href="%WEBURL%">here</a></p>';e=e.replace("%NAME%",i.name),e=e.replace("%WEBURL%",i.website),i.wikiDisplay=e},5e3);$.ajax({url:a+"?action=opensearch&search="+i.name+"&format=json",type:"GET",dataType:"jsonp"}).done(function(e){clearTimeout(o);var a='<h3>%TITLE%</h3><p>%DESCRIPTION%</p><p>Find out more <a href="%WIKIURL%">here</a> at Wikipedia or <a href="%WEBURL%">here</a> at the home page.</p>';if(a=a.replace("%WEBURL%",i.website),"none"!=i.wiki){for(var t=e[3].length-1;t>=0;t--)if(e[3][t]==i.wiki){a=a.replace("%TITLE%",e[1][t]),a=a.replace("%DESCRIPTION%",e[2][t]),a=a.replace("%WIKIURL%",i.wiki),i.wikiDisplay=a;break}0===i.wikiDisplay.length&&(a=a.replace("%TITLE%",e[1][0]),a=a.replace("%DESCRIPTION%",e[2][0]),a=a.replace("%WIKIURL%",i.wiki),i.wikiDisplay=a)}else{var n='<h3>%NAME%</h3><p>Could not find any data from Wikipedia from this location but you can go to the website <a href="%WEBURL%">here</a></p>';n=n.replace("%NAME%",i.name),n=n.replace("%WEBURL%",i.website),i.wikiDisplay=n}}).fail(function(e){console.log("Failed AJAX request");var a='<h3>%NAME%</h3><p>Could not find any data from Wikipedia from this location but you can go to the website <a href="%WEBURL%">here</a></p>';a=a.replace("%NAME%",i.name),a=a.replace("%WEBURL%",i.website),i.wikiDisplay=a}).always(function(a){for(var o=i.address.length-1;o>=0;o--)e.geocode({address:i.address[o]},function(e,a){i.addMarker(e,a),"ZERO_RESULTS"==a&&console.log(e.toString())})})};var LocContainer=function(e,i,a){var o=this;o.map=i,o.locations=ko.observableArray(),e["rome-app"].forEach(function(e){o.locations.push(new Location(o.map,e,a))})};LocContainer.prototype=Object.create(Object.prototype),LocContainer.prototype.constructor=LocContainer,LocContainer.prototype.setView=function(e){for(var i=this,a=0;a<i.locations().length;a++)i.locations()[a].type==e?i.locations()[a].isVisible(!0):2===e?i.locations()[a].isVisible(!0):i.locations()[a].isVisible(!1)},LocContainer.prototype.wikiGets=function(e){for(var i=this,a=i.locations().length-1;a>=0;a--)i.locations()[a].wikiGet(e)},LocContainer.prototype.search=function(e){for(var i=this,a=i.locations().length-1;a>=0;a--)i.locations()[a].search(e)};var Currency=function(e,i){var a=this;a.name=ko.observable(e||"USD"),a.value=ko.observable(i||0)};Currency.prototype=Object.create(Object.prototype),Currency.prototype.constructor=Currency;var main;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcGQuanMiXSwibmFtZXMiOlsiTWFpblZpZXdNb2RlbCIsImpzb25GaWxlIiwic2VsZiIsInRoaXMiLCJjdXJyZW5jaWVzIiwia28iLCJvYnNlcnZhYmxlQXJyYXkiLCJDdXJyZW5jeSIsInNlYXJjaFRlcm0iLCJvYnNlcnZhYmxlIiwic3RhdHVzIiwiUm9tZSIsImxhdCIsImxuZyIsIm1hcCIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiem9vbSIsImNlbnRlciIsImluZm9XaW5kb3ciLCJJbmZvV2luZG93IiwiekluZGV4IiwibGF0TG5nRmluZGVyIiwiR2VvY29kZXIiLCJjb250YWluZXIiLCJMb2NDb250YWluZXIiLCJ3aWtpR2V0cyIsInNldFZpZXciLCJ2aWV3Iiwic2VhcmNoSXQiLCJzZWFyY2giLCJjb25zb2xlIiwibG9nIiwiZml4ZXJpb191cGRhdGUiLCJqUXVlcnkiLCJnZXRKU09OIiwiZGF0YSIsImkiLCJsZW5ndGgiLCJuYW1lIiwidmFsdWUiLCJyYXRlcyIsInNldFRpbWVvdXQiLCJmYWlsIiwiZml4ZXJpb19hcGkiLCJpbml0aWFsaXplIiwibWFpbiIsImxvY2F0aW9uRGF0YSIsImFwcGx5QmluZGluZ3MiLCJpbml0TWFwIiwiZXZlbnQiLCJhZGREb21MaXN0ZW5lciIsIndpbmRvdyIsImdvb2dsZUVycm9yIiwiJCIsImh0bWwiLCJyb21lLWFwcCIsImFkZHJlc3MiLCJ3ZWJzaXRlIiwid2lraSIsInR5cGUiLCJrZXl3b3JkcyIsIkxvY2F0aW9uIiwiaW5pdERhdGEiLCJoYXNNYXJrZXIiLCJtYXJrZXJzIiwidmlzaWJsZSIsIndpa2lEaXNwbGF5IiwiaW5mbyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwic2V0Rm9jdXMiLCJ0cmlnZ2VyIiwidW5zZXRGb2N1cyIsImZvYyIsImFkZE1hcmtlciIsIkdlb2NvZGVyU3RhdHVzIiwiT0siLCJyb29mVG9wIiwiYXBwcm94IiwiZ2VvQ2VudGVyIiwicHJvcGVyTG9jYXRpb24iLCJsb2NfdHlwZSIsImdlb21ldHJ5IiwibG9jYXRpb25fdHlwZSIsInB1c2giLCJNYXJrZXIiLCJwb3NpdGlvbiIsImxvY2F0aW9uIiwiZHJhZ2dhYmxlIiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwiRFJPUCIsInRpdGxlIiwibGVuTWFyayIsImFkZExpc3RlbmVyIiwiZ2V0QW5pbWF0aW9uIiwic2V0QW5pbWF0aW9uIiwiY2xvc2UiLCJCT1VOQ0UiLCJzZXRDb250ZW50Iiwib3BlbiIsImlzVmlzaWJsZSIsImlzSXQiLCJzZXRNYXAiLCJpdCIsInBhcnRpYWwiLCJwYXJ0aWFsZCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJ3aWtpR2V0IiwiZ2VvIiwiYmFzZXVybCIsIndpa2lSZXF1ZXN0VGltZW91dCIsImZhaWxlZCIsInJlcGxhY2UiLCJhamF4IiwidXJsIiwiZGF0YVR5cGUiLCJkb25lIiwiY2xlYXJUaW1lb3V0IiwiY29udGVudCIsImFsd2F5cyIsImdlb2NvZGUiLCJ0b1N0cmluZyIsImpzb25EYXRhIiwibG9jYXRpb25zIiwiZm9yRWFjaCIsIml0ZW0iLCJzdHJpbmd5Il0sIm1hcHBpbmdzIjoiQUEwWkEsUUFBU0EsZUFBY0MsR0FDbkIsR0FBSUMsR0FBT0MsSUFFWEQsR0FBS0UsV0FBYUMsR0FBR0MsaUJBQWlCLEdBQUlDLFVBQVMsTUFBTyxHQUFNLEdBQUlBLFVBQVMsTUFBTyxHQUFJLEdBQUlBLFVBQVMsTUFBTyxHQUFJLEdBQUlBLFVBQVMsTUFBTyxHQUFJLEdBQUlBLFVBQVMsTUFBTyxHQUFJLEdBQUlBLFVBQVMsTUFBTyxHQUFJLEdBQUlBLFVBQVMsTUFBTyxLQUM1TUwsRUFBS00sV0FBYUgsR0FBR0ksV0FBVyxJQUNoQ1AsRUFBS1EsT0FBU0wsR0FBR0ksV0FBVyxJQUc1QlAsRUFBS1MsTUFBUUMsSUFBSyxLQUFNQyxJQUFLLE1BQzdCWCxFQUFLWSxJQUFNLEdBQUlDLFFBQU9DLEtBQUtDLElBQUlDLFNB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QVUsSUFLMUMvRSxhQUFhNEMsVUFBVTNDLFNBQVcsU0FBVXVGLEdBRXhDLElBQUssR0FERGxILEdBQU9DLEtBQ0ZxQyxFQUFJdEMsRUFBS2lJLFlBQVkxRixPQUFTLEVBQUdELEdBQUssRUFBR0EsSUFDOUN0QyxFQUFLaUksWUFBWTNGLEdBQUcyRSxRQUFRQyxJQUlwQ3hGLGFBQWE0QyxVQUFVdkMsT0FBUyxTQUFTcUcsR0FJckMsSUFBSyxHQUREcEksR0FBT0MsS0FDRnFDLEVBQUl0QyxFQUFLaUksWUFBWTFGLE9BQVMsRUFBR0QsR0FBSyxFQUFHQSxJQUM5Q3RDLEVBQUtpSSxZQUFZM0YsR0FBR1AsT0FBT3FHLEdBUW5DLElBQUkvSCxVQUFXLFNBQVVtQyxFQUFNQyxHQUMzQixHQUFJekMsR0FBT0MsSUFDWEQsR0FBS3dDLEtBQU9yQyxHQUFHSSxXQUFXaUMsR0FBUSxPQUNsQ3hDLEVBQUt5QyxNQUFRdEMsR0FBR0ksV0FBV2tDLEdBQVMsR0FHeENwQyxVQUFTaUUsVUFBWUMsT0FBT0MsT0FBT0QsT0FBT0QsV0FDMUNqRSxTQUFTaUUsVUFBVUcsWUFBY3BFLFFBc0VqQyxJQUFJMEMiLCJmaWxlIjoiYXBwZC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBsb2NhdGlvbkRhdGEgPSB7XG4gICAgXCJyb21lLWFwcFwiOiBbIHtcbiAgICBcIm5hbWVcIjogXCJDb2xvc3NldW1cIixcbiAgICBcImFkZHJlc3NcIjogW1wiUGlhenphIGRlbCBDb2xvc3NlbywgUm9tZSwgSXRhbHlcIl0sXG4gICAgXCJ3ZWJzaXRlXCI6IFwiaHR0cDovL3d3dy5jb29wY3VsdHVyZS5pdC9lbi90aGUtY29sb3NzZXVtLmNmbVwiLFxuICAgIFwid2lraVwiOiBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbG9zc2V1bVwiLFxuICAgIFwidHlwZVwiOiAwLFxuICAgIFwia2V5d29yZHNcIjogW1xuICAgICAgICBcImdsYWRpYXRvclwiLFxuICAgICAgICBcImZpZ2h0XCIsXG4gICAgICAgIFwicmluZ1wiLFxuICAgICAgICBcImdhbWVzXCIsXG4gICAgICAgIFwic3BvcnRcIlxuICAgIF1cbiAgICB9LCB7XG4gICAgXCJuYW1lXCI6IFwiUGFudGhlb24sIFJvbWVcIixcbiAgICBcImFkZHJlc3NcIjogW1wiUGlhenphIGRlbGxhIFJvdG9uZGEsIDAwMTg2IFJvbWEsIEl0YWx5XCJdLFxuICAgIFwid2Vic2l0ZVwiOiBcImh0dHA6Ly93d3cudHVyaXNtb3JvbWEuaXQvY29zYS1mYXJlL3BhbnRoZW9uP2xhbmc9ZW5cIixcbiAgICBcIndpa2lcIjogXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QYW50aGVvbixfUm9tZVwiLFxuICAgIFwidHlwZVwiOiAwLFxuICAgIFwia2V5d29yZHNcIjogW1xuICAgICAgICBcImNodXJjaFwiLFxuICAgICAgICBcImRvbWVcIixcbiAgICAgICAgXCJ0ZW1wbGVcIlxuICAgIF1cbiAgICB9LCB7XG4gICAgXCJuYW1lXCI6IFwiU3QuIFBldGVyJ3MgQmFzaWxpY2FcIixcbiAgICBcImFkZHJlc3NcIjogW1wiUGlhenphIFNhbiBQaWV0cm8sIDAwMTIwIENpdHTDoCBkZWwgVmF0aWNhbm8sIFZhdGljYW4gQ2l0eVwiXSxcbiAgICBcIndlYnNpdGVcIjogXCJodHRwOi8vd3d3LnZhdGljYW5zdGF0ZS52YS9jb250ZW50L3ZhdGljYW5zdGF0ZS9lbi9tb251bWVudGkvYmFzaWxpY2EtZGktcy1waWV0cm8uaHRtbFwiLFxuICAgIFwid2lraVwiOiBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N0Ll9QZXRlciUyN3NfQmFzaWxpY2FcIixcbiAgICBcInR5cGVcIjogMCxcbiAgICBcImtleXdvcmRzXCI6IFtcbiAgICAgICAgXCJjaHVyY2hcIixcbiAgICAgICAgXCJiYXNpbGljYVwiLFxuICAgICAgICBcInZhdGljYW5cIixcbiAgICAgICAgXCJwb3BlXCIsXG4gICAgICAgIFwicGV0ZXJcIixcbiAgICAgICAgXCJzYWludFwiXG4gICAgXVxuICAgIH0sIHtcbiAgICBcIm5hbWVcIjogXCJQeXJhbWlkIG9mIENlc3RpYVwiLFxuICAgIFwiYWRkcmVzc1wiOiBbXCJWaWEgUmFmZmFlbGUgUGVyc2ljaGV0dGksIDAwMTUzIFJvbWEsIEl0YWx5XCJdLFxuICAgIFwid2Vic2l0ZVwiOiBcImh0dHA6Ly93d3cuY29vcGN1bHR1cmUuaXQvZW4vaGVyaXRhZ2UuY2ZtP2lkPTU5XCIsXG4gICAgXCJ3aWtpXCI6IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUHlyYW1pZF9vZl9DZXN0aXVzXCIsXG4gICAgXCJ0eXBlXCI6IDAsXG4gICAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgICAgIFwicHlyYW1pZFwiLFxuICAgICAgICBcImdhaXVzXCIsXG4gICAgICAgIFwiY2VzdGl1c1wiLFxuICAgICAgICBcInRvbWJcIixcbiAgICAgICAgXCJydWluc1wiXG4gICAgXVxuICAgIH0sIHtcbiAgICBcIm5hbWVcIjogXCJVbmRlcmdyb3VuZCBCYXNpbGljYSBvZiBQb3J0YSBNYWdnaW9yZVwiLFxuICAgIFwiYWRkcmVzc1wiOiBbXCJQaWF6emFsZSBMYWJpY2FubyBhbmdvbG8gdmlhIFByZW5lc3RpbmEsIFZpYSBQcmVuZXN0aW5hLCBSb21hLCBJdGFseVwiXSxcbiAgICBcIndlYnNpdGVcIjogXCJodHRwOi8vYXJjaGVvcm9tYS5iZW5pY3VsdHVyYWxpLml0L2VuL2FyY2hhZW9sb2dpY2FsLXNpdGUvdW5kZXJncm91bmQtYmFzaWxpY2EtbmVhci1wb3J0YS1tYWdnaW9yZVwiLFxuICAgIFwid2lraVwiOiBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VuZGVyZ3JvdW5kX2Jhc2lsaWNhX29mX1BvcnRhX01hZ2dpb3JlXCIsXG4gICAgXCJ0eXBlXCI6IDAsXG4gICAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgICAgIFwiYmFzaWxpY2FcIixcbiAgICAgICAgXCJ1bmRlcmdyb3VuZFwiLFxuICAgICAgICBcIm5lb3B5dGhhZ29yZWFuc1wiXG4gICAgXVxuICAgIH0sIHtcbiAgICBcIm5hbWVcIjogXCJQYWxhenpvIERlbGxlIEVzcG9zaXppb25pXCIsXG4gICAgXCJhZGRyZXNzXCI6IFtcIlZpYSBOYXppb25hbGUsIDE5NCwgMDAxODQgUm9tYSwgSXRhbHlcIl0sXG4gICAgXCJ3ZWJzaXRlXCI6IFwiaHR0cDovL2VuZ2xpc2gucGFsYXp6b2VzcG9zaXppb25pLml0L0hvbWUuYXNweFwiLFxuICAgIFwid2lraVwiOiBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BhbGF6em9fZGVsbGVfRXNwb3NpemlvbmlcIixcbiAgICBcInR5cGVcIjogMCxcbiAgICBcImtleXdvcmRzXCI6IFtcbiAgICAgICAgXCJleGhpYml0aW9uXCIsXG4gICAgICAgIFwiaGFsbFwiLFxuICAgICAgICBcImN1bHR1cmFsXCIsXG4gICAgICAgIFwiY2VudGVyXCIsXG4gICAgICAgIFwibXVzZXVtXCJcbiAgICBdXG4gICAgfSwge1xuICAgIFwibmFtZVwiOiBcIlBhbGF0aW5lIEhpbGxcIixcbiAgICBcImFkZHJlc3NcIjogW1wiVmlhIGRlbGxhIFNhbGFyYSBWZWNjaGlhLCA1LzYsIFJvbWEsIEl0YWx5XCJdLFxuICAgIFwid2Vic2l0ZVwiOiBcImh0dHA6Ly93d3cuY29vcGN1bHR1cmUuaXQvZW4vaGVyaXRhZ2UuY2ZtP2lkPTRcIixcbiAgICBcIndpa2lcIjogXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QYWxhdGluZV9IaWxsXCIsXG4gICAgXCJ0eXBlXCI6IDAsXG4gICAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgICAgIFwicGFsYXRpbmVcIixcbiAgICAgICAgXCJoaWxsXCIsXG4gICAgICAgIFwiZm9ydW1cIixcbiAgICAgICAgXCJydWluc1wiLFxuICAgICAgICBcImFuY2llbnRcIixcbiAgICAgICAgXCJyb21lXCJcbiAgICBdXG4gICAgfSwge1xuICAgIFwibmFtZVwiOiBcIlRvdXJpc3QgSW5mb3JtYXRpb24gQ2VudGVyc1wiLFxuICAgIFwiYWRkcmVzc1wiOiBbXG4gICAgICAgIFwiVmlhIEdpb3Zhbm5pIEdpb2xpdHRpIDM0LCBSb21hLCBJdGFseVwiLFxuICAgICAgICAvL05PVEU6IEFwcGFyZW50bHkgSSdtIHVzaW5nIHRoZSBnZW9jb2RlciBhdCB0b28gZmFzdCBvZiBhIHJhdGUgc28gSVxuICAgICAgICAvLyAgICAgIGNhbiBvbmx5IHVzZSBvbmUgYWRkcmVzcyB3aXRob3V0IHJ1bm5pbmcgaW50byBhbiBpc3N1ZS4uLlxuICAgICAgICAvL1wiVmlhIGRpIFNhbiBCYXNpbGlvIDUxLCBSb21hLCBJdGFseVwiLFxuICAgICAgICAvL1wiVmlhIE5hemlvbmFsZSwgMTk0LCAwMDE4NCBSb21hLCBJdGFseVwiLFxuICAgICAgICAvL1wiVmlhIGRlaSBGb3JpIEltcGVyaWFsaSwgUm9tYSwgSXRhbHlcIlxuICAgIF0sXG4gICAgXCJ3ZWJzaXRlXCI6IFwiaHR0cDovL3d3dy50dXJpc21vcm9tYS5pdC9pbmZvX3ZpYWdnaW8vcGl0XCIsXG4gICAgXCJ3aWtpXCI6IFwibm9uZVwiLFxuICAgIFwidHlwZVwiOiAxLFxuICAgIFwia2V5d29yZHNcIjogW1xuICAgICAgICBcImluZm9ybWF0aW9uXCIsXG4gICAgICAgIFwiY2VudGVyXCIsXG4gICAgICAgIFwicGl0XCIsXG4gICAgICAgIFwicG9pbnRcIlxuICAgIF1cbiAgICB9LCB7XG4gICAgXCJuYW1lXCI6XCJSb21hIFRlcm1pbmlcIixcbiAgICBcImFkZHJlc3NcIjogW1wiUm9tYSBUZXJtaW5pLCBJdGFseVwiXSxcbiAgICBcIndlYnNpdGVcIjpcImh0dHA6Ly93d3cudHJlbml0YWxpYS5jb20vdGNvbS1lblwiLFxuICAgIFwid2lraVwiOiBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JvbWFfVGVybWluaV9yYWlsd2F5X3N0YXRpb25cIixcbiAgICBcInR5cGVcIjogMyxcbiAgICBcImtleXdvcmRzXCI6IFtcbiAgICAgICAgXCJ0cmFpbnNcIixcbiAgICAgICAgXCJzdGF0aW9uXCIsXG4gICAgICAgIFwiY2hvb1wiXG4gICAgXVxuICAgIH0sIHtcbiAgICBcIm5hbWVcIjogXCJUcmV2aSBGb3VudGFpblwiLFxuICAgIFwiYWRkcmVzc1wiOiBbXCJQaWF6emEgZGkgVHJldmksIDAwMTg3IFJvbWEsIEl0YWx5XCJdLFxuICAgIFwid2Vic2l0ZVwiOiBcImh0dHA6Ly93d3cudHJldmlmb3VudGFpbi5uZXQvXCIsXG4gICAgXCJ3aWtpXCI6IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVHJldmlfRm91bnRhaW5cIixcbiAgICBcInR5cGVcIjogMCxcbiAgICBcImtleXdvcmRzXCI6IFtcbiAgICAgICAgXCJ0cmV2aVwiLFxuICAgICAgICBcImZvdW50YWluXCIsXG4gICAgICAgIFwid2lzaFwiLFxuICAgICAgICBcInNhbHZpXCIsXG4gICAgICAgIFwiYnJhY2NpXCJcbiAgICBdXG4gICAgfVxuICBdXG59O1xuXG5cbnZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uKCBtYXAsIGluaXREYXRhLCBpbmZvV2luZG93KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubmFtZSA9ICBpbml0RGF0YS5uYW1lIHx8ICcnIDtcbiAgICBzZWxmLmFkZHJlc3MgPSBpbml0RGF0YS5hZGRyZXNzIHx8IFtdO1xuICAgIHNlbGYud2lraSA9IGluaXREYXRhLndpa2kgfHwgJycgO1xuICAgIHNlbGYudHlwZSA9IGluaXREYXRhLnR5cGUgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIDAgLSBIaXN0b3JpY2FsIE1hcmtlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMSAtIEluZm9ybWF0aW9uIENlbnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAtIFJlc3RhdXJhbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgLSBUcmFuc3BvcnRhdGlvbiBIdWIgYnVzL3RyYWluL2FpcnBvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLSBDaHVyY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUgLSBPdGhlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgc2VsZi53ZWJzaXRlID0gaW5pdERhdGEud2Vic2l0ZSB8fCAnJztcbiAgICBzZWxmLmtleXdvcmRzID0gaW5pdERhdGEua2V5d29yZHMgfHwgW107XG4gICAgc2VsZi5oYXNNYXJrZXIgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICBzZWxmLm1hcmtlcnMgPSBbXTtcbiAgICBzZWxmLnZpc2libGUgPSBrby5vYnNlcnZhYmxlKHRydWUpO1xuICAgIHNlbGYud2lraURpc3BsYXkgPSBcIlwiO1xuICAgIHNlbGYubWFwID0gbWFwO1xuICAgIHNlbGYuaW5mbyA9IGluZm9XaW5kb3c7XG59O1xuTG9jYXRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPYmplY3QucHJvdG90eXBlKTtcbkxvY2F0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvY2F0aW9uO1xuXG5Mb2NhdGlvbi5wcm90b3R5cGUuc2V0Rm9jdXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihzZWxmLm1hcmtlcnNbMF0sICdjbGljaycpO1xuICAgIC8vIGNvbnNvbGUubG9nKFwiUmFuIHRocnUgc2V0IEZvY3VzXCIpO1xufTtcblxuTG9jYXRpb24ucHJvdG90eXBlLnVuc2V0Rm9jdXMgPSBmdW5jdGlvbiAoZm9jKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICghZm9jKSB7XG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LnRyaWdnZXIoc2VsZi5tYXJrZXJzWzBdLCAnY2xpY2snKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcIlJhbiB0aHJ1IHVuc2V0IEZvY3VzXCIpO1xufTtcblxuTG9jYXRpb24ucHJvdG90eXBlLmFkZE1hcmtlciA9IGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHN0YXR1cyA9PSBnb29nbGUubWFwcy5HZW9jb2RlclN0YXR1cy5PSykge1xuICAgICAgICB2YXIgcm9vZlRvcCA9IC0xO1xuICAgICAgICB2YXIgYXBwcm94ID0gLTE7XG4gICAgICAgIHZhciBnZW9DZW50ZXIgPSAtMTtcbiAgICAgICAgdmFyIHByb3BlckxvY2F0aW9uID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IGRhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBsb2NfdHlwZSA9IGRhdGFbaV0uZ2VvbWV0cnkubG9jYXRpb25fdHlwZTtcbiAgICAgICAgICAgIGlmIChsb2NfdHlwZSA9PSBcIlJPT0ZUT1BcIil7XG4gICAgICAgICAgICAgICAgcm9vZlRvcCA9IGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvY190eXBlID09IFwiR0VPTUVUUklDX0NFTlRFUlwiKSB7XG4gICAgICAgICAgICAgICAgZ2VvQ2VudGVyID0gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jX3R5cGUgPT0gXCJBUFBST1hJTUFURVwiKSB7XG4gICAgICAgICAgICAgICAgYXBwcm94ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocm9vZlRvcCA+PSAwKSB7XG4gICAgICAgICAgICBwcm9wZXJMb2NhdGlvbiA9IHJvb2ZUb3A7XG4gICAgICAgIH0gZWxzZSBpZiAoYXBwcm94ID49IDApIHtcbiAgICAgICAgICAgIHByb3BlckxvY2F0aW9uID0gYXBwcm94O1xuICAgICAgICB9IGVsc2UgaWYgKGdlb0NlbnRlciA+PSAwKSB7XG4gICAgICAgICAgICBwcm9wZXJMb2NhdGlvbiA9IGdlb0NlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLm1hcmtlcnMucHVzaChuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7bGF0OiBkYXRhW3Byb3BlckxvY2F0aW9uXS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBkYXRhW3Byb3BlckxvY2F0aW9uXS5nZW9tZXRyeS5sb2NhdGlvbi5sbmcoKX0sXG4gICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiBnb29nbGUubWFwcy5BbmltYXRpb24uRFJPUCxcbiAgICAgICAgICAgIG1hcDogc2VsZi5tYXAsXG4gICAgICAgICAgICB0aXRsZTogc2VsZi5uYW1lXG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gT3JpZ2luYWxseSBJIGhhZCBtdWx0aXBsZSBhZGRyZXNzIGZvciB0aGUgdG91cmlzdCBpbmZvcm1hdGlvbiBjZW50ZXJcbiAgICAgICAgLy8gYnV0IGR1ZSB0byBhIGdlb2NvZGVyIGVycm9yIEkgZGVjaWRlZCB0byBvbmx5IGdvIHdpdGggb25lIHNvIEkgd291bGRcbiAgICAgICAgLy8gb25seSBuZWVkIG9uZSBJbmZvV2luZG93IHBlciBMb2NhdGlvblxuXG4gICAgICAgIHZhciBsZW5NYXJrID0gc2VsZi5tYXJrZXJzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgLy8gQWRkaW5nIG9wZW5pbmcgb2YgSW5mb1dpbmRvdyBvbiBhIGNsaWNrIGV2ZW50IGFsb25nIHdpdGggYW4gYW5pbWF0aW9uLlxuICAgICAgICAvLyBBIHNlY29uZCBjbGljayB3aWxsIHR1cm4gb2ZmIHRoZSBhbmltYXRpb24gYW5kIGNsb3NlIHRoZSBpbmZvd2luZG93XG4gICAgICAgIHNlbGYubWFya2Vyc1tsZW5NYXJrXS5hZGRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgaWYgKHNlbGYubWFya2Vyc1tsZW5NYXJrXS5nZXRBbmltYXRpb24oKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNlbGYubWFya2Vyc1tsZW5NYXJrXS5zZXRBbmltYXRpb24obnVsbCk7XG4gICAgICAgICAgICAgICAgc2VsZi5pbmZvLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYubWFya2Vyc1tsZW5NYXJrXS5zZXRBbmltYXRpb24oZ29vZ2xlLm1hcHMuQW5pbWF0aW9uLkJPVU5DRSk7XG4gICAgICAgICAgICAgICAgc2VsZi5pbmZvLnNldENvbnRlbnQoc2VsZi53aWtpRGlzcGxheSk7XG4gICAgICAgICAgICAgICAgc2VsZi5pbmZvLm9wZW4oc2VsZi5tYXAsIHNlbGYubWFya2Vyc1tsZW5NYXJrXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxmLmluZm8uYWRkTGlzdGVuZXIoJ2Nsb3NlY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuaW5mby5jbG9zZSgpO1xuICAgICAgICAgICAgc2VsZi5tYXJrZXJzW2xlbk1hcmtdLnNldEFuaW1hdGlvbihudWxsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi5oYXNNYXJrZXIodHJ1ZSk7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgdHJ5aW5nIHRvIGFjY2VzcyB0aGUgR2VvY29kZXIuIFN0YXR1czpcIiwgc3RhdHVzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59O1xuXG5Mb2NhdGlvbi5wcm90b3R5cGUuaXNWaXNpYmxlID0gZnVuY3Rpb24oaXNJdCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLnZpc2libGUoaXNJdCk7XG4gICAgaWYgKGlzSXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IHNlbGYubWFya2Vycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgc2VsZi5tYXJrZXJzW2ldLnNldE1hcChzZWxmLm1hcCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpdCA9IHNlbGYubWFya2Vycy5sZW5ndGggLSAxOyBpdCA+PSAwOyBpdC0tKSB7XG4gICAgICAgICAgICBzZWxmLm1hcmtlcnNbaXRdLnNldE1hcChudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuXG5Mb2NhdGlvbi5wcm90b3R5cGUuc2VhcmNoID0gZnVuY3Rpb24ocGFydGlhbCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgcGFydGlhbGQgPSBwYXJ0aWFsLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHBhcnRpYWxkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzZWxmLmlzVmlzaWJsZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChzZWxmLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXJ0aWFsZCkpIHtcbiAgICAgICAgc2VsZi5pc1Zpc2libGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBzZWxmLmtleXdvcmRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZihzZWxmLmtleXdvcmRzW2ldLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocGFydGlhbGQpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5pc1Zpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5pc1Zpc2libGUoZmFsc2UpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcblxuLy8gU2V0cyB3aWtpRGlzcGxheSBpbiBhZGRpdGlvbiB0byB3ZWJzaXRlIFVSTFxuTG9jYXRpb24ucHJvdG90eXBlLndpa2lHZXQgPSBmdW5jdGlvbihnZW8pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGJhc2V1cmwgPSAnaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3cvYXBpLnBocCc7XG4gICAgdmFyIHdpa2lSZXF1ZXN0VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCBBSkFYIHJlcXVlc3RcIik7XG4gICAgICAgIHZhciBmYWlsZWQgPSAnPGgzPiVOQU1FJTwvaDM+PHA+Q291bGQgbm90IGZpbmQgYW55IGRhdGEgZnJvbSAnXG4gICAgICAgICAgICArICdXaWtpcGVkaWEgZnJvbSB0aGlzIGxvY2F0aW9uIGJ1dCB5b3UgY2FuIGdvIHRvIHRoZSB3ZWJzaXRlICdcbiAgICAgICAgICAgICsgJzxhIGhyZWY9XCIlV0VCVVJMJVwiPmhlcmU8L2E+PC9wPic7XG4gICAgICAgIGZhaWxlZCA9IGZhaWxlZC5yZXBsYWNlKCclTkFNRSUnLCBzZWxmLm5hbWUpO1xuICAgICAgICBmYWlsZWQgPSBmYWlsZWQucmVwbGFjZSgnJVdFQlVSTCUnLCBzZWxmLndlYnNpdGUpO1xuICAgICAgICBzZWxmLndpa2lEaXNwbGF5ID0gZmFpbGVkO1xuICAgIH0sIDUwMDApO1xuICAgICQuYWpheCh7XG4gICAgICAgIHVybDogYmFzZXVybCArICc/YWN0aW9uPW9wZW5zZWFyY2gmc2VhcmNoPScgKyBzZWxmLm5hbWUgKyAnJmZvcm1hdD1qc29uJyxcbiAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbnAnXG4gICAgICAgIH0pXG4gICAgICAgIC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh3aWtpUmVxdWVzdFRpbWVvdXQpO1xuICAgICAgICAgICAgLy8gRE9ORTogTG9vayB1cCBmb3JtYXQgdHlwZSBhbmQgZW50ZXIgaXQgdG8gcmVwbGFjZSB0aGUgVGl0bGUsIGRlc2NyaXB0aW9uLCB3aWtpdXJsLCBhbmQgd2Vic2l0ZSB1cmxcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gJzxoMz4lVElUTEUlPC9oMz48cD4lREVTQ1JJUFRJT04lPC9wPjxwPkZpbmQgb3V0IG1vcmUnXG4gICAgICAgICAgICArICcgPGEgaHJlZj1cIiVXSUtJVVJMJVwiPmhlcmU8L2E+IGF0IFdpa2lwZWRpYSBvciA8YSBocmVmPVwiJVdFQlVSTCVcIidcbiAgICAgICAgICAgICsgJz5oZXJlPC9hPiBhdCB0aGUgaG9tZSBwYWdlLjwvcD4nO1xuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgnJVdFQlVSTCUnLCBzZWxmLndlYnNpdGUpO1xuICAgICAgICAgICAgaWYgKHNlbGYud2lraSAhPSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBkYXRhWzNdLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCBkYXRhWzNdW2ldID09IHNlbGYud2lraSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgnJVRJVExFJScsIGRhdGFbMV1baV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgnJURFU0NSSVBUSU9OJScsIGRhdGFbMl1baV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgnJVdJS0lVUkwlJywgc2VsZi53aWtpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYud2lraURpc3BsYXkgPSBjb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYud2lraURpc3BsYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoJyVUSVRMRSUnLCBkYXRhWzFdWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgnJURFU0NSSVBUSU9OJScsIGRhdGFbMl1bMF0pO1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKCclV0lLSVVSTCUnLCBzZWxmLndpa2kpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLndpa2lEaXNwbGF5ID0gY29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBmYWlsZWQgPSAnPGgzPiVOQU1FJTwvaDM+PHA+Q291bGQgbm90IGZpbmQgYW55IGRhdGEgZnJvbSAnXG4gICAgICAgICAgICAgICAgKyAnV2lraXBlZGlhIGZyb20gdGhpcyBsb2NhdGlvbiBidXQgeW91IGNhbiBnbyB0byB0aGUgd2Vic2l0ZSAnXG4gICAgICAgICAgICAgICAgKyAnPGEgaHJlZj1cIiVXRUJVUkwlXCI+aGVyZTwvYT48L3A+JztcbiAgICAgICAgICAgICAgICBmYWlsZWQgPSBmYWlsZWQucmVwbGFjZSgnJU5BTUUlJywgc2VsZi5uYW1lKTtcbiAgICAgICAgICAgICAgICBmYWlsZWQgPSBmYWlsZWQucmVwbGFjZSgnJVdFQlVSTCUnLCBzZWxmLndlYnNpdGUpO1xuICAgICAgICAgICAgICAgIHNlbGYud2lraURpc3BsYXkgPSBmYWlsZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5mYWlsKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCBBSkFYIHJlcXVlc3RcIik7XG4gICAgICAgICAgICB2YXIgZmFpbGVkID0gJzxoMz4lTkFNRSU8L2gzPjxwPkNvdWxkIG5vdCBmaW5kIGFueSBkYXRhIGZyb20gJ1xuICAgICAgICAgICAgKyAnV2lraXBlZGlhIGZyb20gdGhpcyBsb2NhdGlvbiBidXQgeW91IGNhbiBnbyB0byB0aGUgd2Vic2l0ZSAnXG4gICAgICAgICAgICArICc8YSBocmVmPVwiJVdFQlVSTCVcIj5oZXJlPC9hPjwvcD4nO1xuICAgICAgICAgICAgZmFpbGVkID0gZmFpbGVkLnJlcGxhY2UoJyVOQU1FJScsIHNlbGYubmFtZSk7XG4gICAgICAgICAgICBmYWlsZWQgPSBmYWlsZWQucmVwbGFjZSgnJVdFQlVSTCUnLCBzZWxmLndlYnNpdGUpO1xuICAgICAgICAgICAgc2VsZi53aWtpRGlzcGxheSA9IGZhaWxlZDtcblxuXG4gICAgICAgIH0pXG4gICAgICAgIC5hbHdheXMoZnVuY3Rpb24gKGRhdGEpIHtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHNlbGYuYWRkcmVzcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGdlby5nZW9jb2RlKHsgYWRkcmVzczogc2VsZi5hZGRyZXNzW2ldfSwgZnVuY3Rpb24oZGF0YSwgc3RhdHVzKXtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRNYXJrZXIoZGF0YSwgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBcIlpFUk9fUkVTVUxUU1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xufTtcblxudmFyIExvY0NvbnRhaW5lciA9IGZ1bmN0aW9uIChqc29uRGF0YSwgbWFwLCBpbmZvV2luZG93KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubWFwID0gbWFwO1xuICAgIHNlbGYubG9jYXRpb25zID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7XG4gICAganNvbkRhdGFbJ3JvbWUtYXBwJ10uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBzZWxmLmxvY2F0aW9ucy5wdXNoKG5ldyBMb2NhdGlvbihzZWxmLm1hcCwgaXRlbSwgaW5mb1dpbmRvdykpO1xuICAgIH0pO1xuICAgIC8vIHNlbGYuYWN0aXZlXG59O1xuXG5Mb2NDb250YWluZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPYmplY3QucHJvdG90eXBlKTtcbkxvY0NvbnRhaW5lci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb2NDb250YWluZXI7XG5cbkxvY0NvbnRhaW5lci5wcm90b3R5cGUuc2V0VmlldyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmxvY2F0aW9ucygpLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzZWxmLmxvY2F0aW9ucygpW2ldLnR5cGUgPT0gdHlwZSkge1xuICAgICAgICAgICAgc2VsZi5sb2NhdGlvbnMoKVtpXS5pc1Zpc2libGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiggdHlwZSA9PT0gMikge1xuICAgICAgICAgICAgc2VsZi5sb2NhdGlvbnMoKVtpXS5pc1Zpc2libGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmxvY2F0aW9ucygpW2ldLmlzVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Mb2NDb250YWluZXIucHJvdG90eXBlLndpa2lHZXRzID0gZnVuY3Rpb24gKGdlbykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmb3IgKHZhciBpID0gc2VsZi5sb2NhdGlvbnMoKS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBzZWxmLmxvY2F0aW9ucygpW2ldLndpa2lHZXQoZ2VvKTtcbiAgICB9XG59O1xuXG5Mb2NDb250YWluZXIucHJvdG90eXBlLnNlYXJjaCA9IGZ1bmN0aW9uKHN0cmluZ3kpIHtcbiAgICAvLyBUT0RPOiBBZGQgd3JhcHBlciBmdW5jdGlvbmFsaXR5IGludG8gZWFjaCBsb2NhdGlvbidzIHNlYXJjaCBmdW5jdGlvblxuICAgIC8vIG9uY2Ugc2V0VmlldyBhbmQgYWxsIG1hcmtlcnMgY2FuIGJlIHZpZXdlZC4uLlxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmb3IgKHZhciBpID0gc2VsZi5sb2NhdGlvbnMoKS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBzZWxmLmxvY2F0aW9ucygpW2ldLnNlYXJjaChzdHJpbmd5KTtcbiAgICB9XG59O1xuXG5cblxuXG5cbnZhciBDdXJyZW5jeSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLm5hbWUgPSBrby5vYnNlcnZhYmxlKG5hbWUgfHwgJ1VTRCcpO1xuICAgIHNlbGYudmFsdWUgPSBrby5vYnNlcnZhYmxlKHZhbHVlIHx8IDAuMCk7XG59O1xuXG5DdXJyZW5jeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5wcm90b3R5cGUpO1xuQ3VycmVuY3kucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3VycmVuY3k7XG5cbmZ1bmN0aW9uIE1haW5WaWV3TW9kZWwoanNvbkZpbGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLmN1cnJlbmNpZXMgPSBrby5vYnNlcnZhYmxlQXJyYXkoW25ldyBDdXJyZW5jeSgnRVVSJywgMS4wKSwgbmV3IEN1cnJlbmN5KCdVU0QnLCAwKSwgbmV3IEN1cnJlbmN5KCdDSEYnLCAwKSwgbmV3IEN1cnJlbmN5KCdHQlAnLCAwKSwgbmV3IEN1cnJlbmN5KCdBVUQnLCAwKSwgbmV3IEN1cnJlbmN5KCdDQUQnLCAwKSwgbmV3IEN1cnJlbmN5KCdDWksnLCAwKV0pO1xuICAgIHNlbGYuc2VhcmNoVGVybSA9IGtvLm9ic2VydmFibGUoXCJcIik7XG4gICAgc2VsZi5zdGF0dXMgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuXG4gICAgLypET05FOiBWaWV3IHBhcnQgZm9yIHRoZSBNYXAqL1xuICAgIHNlbGYuUm9tZSA9IHtsYXQ6IDQxLjksIGxuZzogMTIuNX07XG4gICAgc2VsZi5tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb21lTWFwJyksIHtcbiAgICAgICAgem9vbTogMTMsXG4gICAgICAgIGNlbnRlcjogc2VsZi5Sb21lXG4gICAgfSk7XG4gICAgc2VsZi5pbmZvV2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe3pJbmRleDogMn0pO1xuICAgIHNlbGYubGF0TG5nRmluZGVyID0gbmV3IGdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7XG4gICAgLy8gRE9ORTogQ3JlYXRlIE9ic2VydmFibGVBcnJheSBvZiBlYWNoIExvY2F0aW9uIGZyb20gdGhlIGpzb25GaWxlXG4gICAgc2VsZi5jb250YWluZXIgPSBrby5vYnNlcnZhYmxlKG5ldyBMb2NDb250YWluZXIoanNvbkZpbGUsIHNlbGYubWFwLCBzZWxmLmluZm9XaW5kb3cpKTtcblxuICAgIHNlbGYuY29udGFpbmVyKCkud2lraUdldHMoc2VsZi5sYXRMbmdGaW5kZXIpO1xuXG4gICAgc2VsZi5zZXRWaWV3ID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgc2VsZi5jb250YWluZXIoKS5zZXRWaWV3KHZpZXcpO1xuICAgIH07XG5cbiAgICBzZWxmLnNlYXJjaEl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLmNvbnRhaW5lcigpLnNlYXJjaChzZWxmLnNlYXJjaFRlcm0oKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHNlbGYuc2VhcmNoVGVybSgpKTtcbiAgICB9O1xuXG4gICAgc2VsZi5maXhlcmlvX3VwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBqUXVlcnkuZ2V0SlNPTignaHR0cDovL2FwaS5maXhlci5pby9sYXRlc3QnLCBmdW5jdGlvbihkYXRhKSB7IC8vIEVVUiBpcyB0aGUgZGVmYXVsdCBiYXNlLiBTZWUgZml4ZXIuaW9cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5jdXJyZW5jaWVzKCkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5jdXJyZW5jaWVzKClbaV0ubmFtZSgpID09IFwiRVVSXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW5jaWVzKClbaV0udmFsdWUoMS4wKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbmNpZXMoKVtpXS52YWx1ZShkYXRhLnJhdGVzW3NlbGYuY3VycmVuY2llcygpW2ldLm5hbWUoKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuc3RhdHVzKFwiUGFzc2luZyBBamF4IFJlcXVlc3QuXCIpO1xuICAgICAgICAgICAgc2V0VGltZW91dChzZWxmLmZpeGVyaW9fdXBkYXRlLCAzMDAwMDApO1xuICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdHVzKFwiRmFpbGluZyBBamF4IFJlcXVlc3QuIFN0aWNraW5nIHRvIGxhc3Qga25vd24gZXhjaGFuZ2UgcmF0ZVwiKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNlbGYuZml4ZXJpb19hcGkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGpRdWVyeS5nZXRKU09OKCdodHRwOi8vYXBpLmZpeGVyLmlvL2xhdGVzdCcsIGZ1bmN0aW9uKGRhdGEpIHsgLy8gRVVSIGlzIHRoZSBkZWZhdWx0IGJhc2UuIFNlZSBmaXhlci5pb1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuY3VycmVuY2llcygpLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuY3VycmVuY2llcygpW2ldLm5hbWUoKSA9PSBcIkVVUlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVuY2llcygpW2ldLnZhbHVlKDEuMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5yYXRlc1tzZWxmLmN1cnJlbmNpZXMoKVtpXS5uYW1lKCldKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW5jaWVzKClbaV0udmFsdWUoZGF0YS5yYXRlc1tzZWxmLmN1cnJlbmNpZXMoKVtpXS5uYW1lKCldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLnN0YXR1cyhcIlBhc3NpbmcgQWpheCBSZXF1ZXN0LlwiKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoc2VsZi5maXhlcmlvX3VwZGF0ZSwgMzAwMDAwKTtcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXR1cyhcIkZhaWxpbmcgQWpheCBSZXF1ZXN0LiBTdGlja2luZyB0byBsYXN0IGtub3duIGV4Y2hhbmdlIHJhdGVcIik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgc2VsZi5maXhlcmlvX2FwaSgpO1xuXG4gICAgc2VsZi5zZXRWaWV3KDApO1xuXG5cbn1cbnZhciBtYWluO1xuZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICBtYWluID0gbmV3IE1haW5WaWV3TW9kZWwobG9jYXRpb25EYXRhKTtcbiAgICBrby5hcHBseUJpbmRpbmdzKG1haW4pO1xufVxuZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih3aW5kb3csIFwibG9hZFwiLCBpbml0aWFsaXplKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcInJ1bm5pbmcgaW5pdEQuLi5cIik7XG59XG5cbmZ1bmN0aW9uIGdvb2dsZUVycm9yKCkge1xuICAgIHZhciBtYXAgPSAkKCcjcm9tZU1hcCcpO1xuICAgIGNvbnNvbGUubG9nKCdvbkVycm9yIHJ1bnMhJyk7XG4gICAgbWFwLmh0bWwoXCI8ZGl2IGlkPSdnb29nbGVFcnJvcic+PGgxPkVycm9yIExvYWRpbmcgR29vZ2xlIE1hcHMhISE8L2gxPjxwPlBsZWFzZSBjb250YWN0IEphY29iIEJyeWFuIGF0IGpha2VAamFrZWJyeWFuLm1lIGZvciBhc3Npc3RhbmNlIGluIGZpeGluZyB0aGUgcHJvYmxlbSE8L3A+PC9kaXY+XCIpO1xufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
