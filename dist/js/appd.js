function MainViewModel(e){var i=this;i.currencies=ko.observableArray([new Currency("EUR",1),new Currency("USD",0),new Currency("CHF",0),new Currency("GBP",0),new Currency("AUD",0),new Currency("CAD",0),new Currency("CZK",0)]),i.searchTerm=ko.observable(""),i.status=ko.observable(""),i.Rome={lat:41.9,lng:12.5},i.map=new google.maps.Map(document.getElementById("romeMap"),{zoom:13,center:i.Rome}),i.infoWindow=new google.maps.InfoWindow({zIndex:2}),i.latLngFinder=new google.maps.Geocoder,i.container=ko.observable(new LocContainer(e,i.map,i.infoWindow)),i.container().wikiGets(i.latLngFinder),i.setView=function(e){i.container().setView(e)},i.searchIt=function(){i.container().search(i.searchTerm()),console.log(i.searchTerm())},i.fixerio_update=function(){jQuery.getJSON("http://api.fixer.io/latest",function(e){for(var a=0;a<i.currencies().length;a++)"EUR"==i.currencies()[a].name()?i.currencies()[a].value(1):i.currencies()[a].value(e.rates[i.currencies()[a].name()]);i.status("Passing Ajax Request."),setTimeout(i.fixerio_update,3e5)}).fail(function(){i.status("Failing Ajax Request. Sticking to last known exchange rate")})},i.fixerio_api=function(){jQuery.getJSON("http://api.fixer.io/latest",function(e){for(var a=0;a<i.currencies().length;a++)"EUR"==i.currencies()[a].name()?i.currencies()[a].value(1):i.currencies()[a].value(e.rates[i.currencies()[a].name()]);i.status("Passing Ajax Request."),setTimeout(i.fixerio_update,3e5)}).fail(function(){i.status("Failing Ajax Request. Sticking to last known exchange rate")})},i.fixerio_api(),i.setView(0)}function initialize(){main=new MainViewModel(locationData),ko.applyBindings(main)}function initMap(){google.maps.event.addDomListener(window,"load",initialize)}function googleError(){var e=$("#romeMap");console.log("onError runs!"),e.text("<div id='googleError'><h1>Error Loading Google Maps!!!</h1><p>Please contact Jacob Bryan at jake@jakebryan.me for assistance in fixing the problem!</p></div>")}var locationData={"rome-app":[{name:"Colosseum",address:["Piazza del Colosseo, Rome, Italy"],website:"http://www.coopculture.it/en/the-colosseum.cfm",wiki:"https://en.wikipedia.org/wiki/Colosseum",type:0,keywords:["gladiator","fight","ring","games","sport"]},{name:"Pantheon, Rome",address:["Piazza della Rotonda, 00186 Roma, Italy"],website:"http://www.turismoroma.it/cosa-fare/pantheon?lang=en",wiki:"https://en.wikipedia.org/wiki/Pantheon,_Rome",type:0,keywords:["church","dome","temple"]},{name:"St. Peter's Basilica",address:["Piazza San Pietro, 00120 CittÃ  del Vaticano, Vatican City"],website:"http://www.vaticanstate.va/content/vaticanstate/en/monumenti/basilica-di-s-pietro.html",wiki:"https://en.wikipedia.org/wiki/St._Peter%27s_Basilica",type:0,keywords:["church","basilica","vatican","pope","peter","saint"]},{name:"Pyramid of Cestia",address:["Via Raffaele Persichetti, 00153 Roma, Italy"],website:"http://www.coopculture.it/en/heritage.cfm?id=59",wiki:"https://en.wikipedia.org/wiki/Pyramid_of_Cestius",type:0,keywords:["pyramid","gaius","cestius","tomb","ruins"]},{name:"Underground Basilica of Porta Maggiore",address:["Piazzale Labicano angolo via Prenestina, Via Prenestina, Roma, Italy"],website:"http://archeoroma.beniculturali.it/en/archaeological-site/underground-basilica-near-porta-maggiore",wiki:"https://en.wikipedia.org/wiki/Underground_basilica_of_Porta_Maggiore",type:0,keywords:["basilica","underground","neopythagoreans"]},{name:"Palazzo Delle Esposizioni",address:["Via Nazionale, 194, 00184 Roma, Italy"],website:"http://english.palazzoesposizioni.it/Home.aspx",wiki:"https://en.wikipedia.org/wiki/Palazzo_delle_Esposizioni",type:0,keywords:["exhibition","hall","cultural","center","museum"]},{name:"Palatine Hill",address:["Via della Salara Vecchia, 5/6, Roma, Italy"],website:"http://www.coopculture.it/en/heritage.cfm?id=4",wiki:"https://en.wikipedia.org/wiki/Palatine_Hill",type:0,keywords:["palatine","hill","forum","ruins","ancient","rome"]},{name:"Tourist Information Centers",address:["Via Giovanni Giolitti 34, Roma, Italy"],website:"http://www.turismoroma.it/info_viaggio/pit",wiki:"none",type:1,keywords:["information","center","pit","point"]},{name:"Roma Termini",address:["Roma Termini, Italy"],website:"http://www.trenitalia.com/tcom-en",wiki:"https://en.wikipedia.org/wiki/Roma_Termini_railway_station",type:3,keywords:["trains","station","choo"]},{name:"Trevi Fountain",address:["Piazza di Trevi, 00187 Roma, Italy"],website:"http://www.trevifountain.net/",wiki:"https://en.wikipedia.org/wiki/Trevi_Fountain",type:0,keywords:["trevi","fountain","wish","salvi","bracci"]}]},Location=function(e,i,a){var o=this;o.name=i.name||"",o.address=i.address||[],o.wiki=i.wiki||"",o.type=i.type||0,o.website=i.website||"",o.keywords=i.keywords||[],o.hasMarker=ko.observable(!1),o.markers=[],o.visible=ko.observable(!0),o.wikiDisplay="",o.map=e,o.info=a};Location.prototype=Object.create(Object.prototype),Location.prototype.constructor=Location,Location.prototype.setFocus=function(){var e=this;google.maps.event.trigger(e.markers[0],"click")},Location.prototype.unsetFocus=function(e){var i=this;e||google.maps.event.trigger(i.markers[0],"click"),console.log("Ran thru unset Focus")},Location.prototype.addMarker=function(e,i){var a=this;if(i==google.maps.GeocoderStatus.OK){for(var o=-1,t=-1,n=-1,r=0,s=e.length-1;s>=0;s--){var c=e[s].geometry.location_type;"ROOFTOP"==c?o=s:"GEOMETRIC_CENTER"==c?n=s:"APPROXIMATE"==c&&(t=s)}o>=0?r=o:t>=0?r=t:n>=0&&(r=n),a.markers.push(new google.maps.Marker({position:{lat:e[r].geometry.location.lat(),lng:e[r].geometry.location.lng()},draggable:!1,animation:google.maps.Animation.DROP,map:a.map,title:a.name}));var l=a.markers.length-1;return a.markers[l].addListener("click",function(){null!==a.markers[l].getAnimation()?(a.markers[l].setAnimation(null),a.info.close()):(a.markers[l].setAnimation(google.maps.Animation.BOUNCE),a.info.setContent(a.wikiDisplay),a.info.open(a.map,a.markers[l]))}),a.info.addListener("closeclick",function(){a.info.close(),a.markers[l].setAnimation(null)}),a.hasMarker(!0),0}return console.log("Error trying to access the Geocoder. Status:",i),-1},Location.prototype.isVisible=function(e){var i=this;if(i.visible(e),e)for(var a=i.markers.length-1;a>=0;a--)i.markers[a].setMap(i.map);else for(var o=i.markers.length-1;o>=0;o--)i.markers[o].setMap(null)},Location.prototype.search=function(e){var i=this,a=e.toLowerCase();if(0===a.length)return i.isVisible(!0),!0;if(i.name.toLowerCase().includes(a))return i.isVisible(!0),!0;for(var o=i.keywords.length-1;o>=0;o--)if(i.keywords[o].toLowerCase().includes(a))return i.isVisible(!0),!0;return i.isVisible(!1),!1},Location.prototype.wikiGet=function(e){var i=this,a="https://en.wikipedia.org/w/api.php";$.ajax({url:a+"?action=opensearch&search="+i.name+"&format=json",type:"GET",dataType:"jsonp"}).done(function(e){var a='<h3>%TITLE%</h3><p>%DESCRIPTION%</p><p>Find out more <a href="%WIKIURL%">here</a> at Wikipedia or <a href="%WEBURL%">here</a> at the home page.</p>';if(a=a.replace("%WEBURL%",i.website),"none"!=i.wiki){for(var o=e[3].length-1;o>=0;o--)if(e[3][o]==i.wiki){a=a.replace("%TITLE%",e[1][o]),a=a.replace("%DESCRIPTION%",e[2][o]),a=a.replace("%WIKIURL%",i.wiki),i.wikiDisplay=a;break}0===i.wikiDisplay.length&&(a=a.replace("%TITLE%",e[1][0]),a=a.replace("%DESCRIPTION%",e[2][0]),a=a.replace("%WIKIURL%",i.wiki),i.wikiDisplay=a)}else{var t='<h3>%NAME%</h3><p>Could not find any data from Wikipedia from this location but you can go to the website <a href="%WEBURL%">here</a></p>';t=t.replace("%NAME%",i.name),t=t.replace("%WEBURL%",i.website),i.wikiDisplay=t}}).fail(function(e){console.log("Failed AJAX request");var a='<h3>%NAME%</h3><p>Could not find any data from Wikipedia from this location but you can go to the website <a href="%WEBURL%">here</a></p>';a=a.replace("%NAME%",i.name),a=a.replace("%WEBURL%",i.website),i.wikiDisplay=a}).always(function(a){for(var o=i.address.length-1;o>=0;o--)e.geocode({address:i.address[o]},function(e,a){i.addMarker(e,a),"ZERO_RESULTS"==a&&console.log(e.toString())})})};var LocContainer=function(e,i,a){var o=this;o.map=i,o.locations=ko.observableArray(),e["rome-app"].forEach(function(e){o.locations.push(new Location(o.map,e,a))})};LocContainer.prototype=Object.create(Object.prototype),LocContainer.prototype.constructor=LocContainer,LocContainer.prototype.setView=function(e){for(var i=this,a=0;a<i.locations().length;a++)i.locations()[a].type==e?i.locations()[a].isVisible(!0):2===e?i.locations()[a].isVisible(!0):i.locations()[a].isVisible(!1)},LocContainer.prototype.wikiGets=function(e){for(var i=this,a=i.locations().length-1;a>=0;a--)i.locations()[a].wikiGet(e)},LocContainer.prototype.search=function(e){for(var i=this,a=i.locations().length-1;a>=0;a--)i.locations()[a].search(e)};var Currency=function(e,i){var a=this;a.name=ko.observable(e||"USD"),a.value=ko.observable(i||0)};Currency.prototype=Object.create(Object.prototype),Currency.prototype.constructor=Currency;var main;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcGQuanMiXSwibmFtZXMiOlsiTWFpblZpZXdNb2RlbCIsImpzb25GaWxlIiwic2VsZiIsInRoaXMiLCJjdXJyZW5jaWVzIiwia28iLCJvYnNlcnZhYmxlQXJyYXkiLCJDdXJyZW5jeSIsInNlYXJjaFRlcm0iLCJvYnNlcnZhYmxlIiwic3RhdHVzIiwiUm9tZSIsImxhdCIsImxuZyIsIm1hcCIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiem9vbSIsImNlbnRlciIsImluZm9XaW5kb3ciLCJJbmZvV2luZG93IiwiekluZGV4IiwibGF0TG5nRmluZGVyIiwiR2VvY29kZXIiLCJjb250YWluZXIiLCJMb2NDb250YWluZXIiLCJ3aWtpR2V0cyIsInNldFZpZXciLCJ2aWV3Iiwic2VhcmNoSXQiLCJzZWFyY2giLCJjb25zb2xlIiwibG9nIiwiZml4ZXJpb191cGRhdGUiLCJqUXVlcnkiLCJnZXRKU09OIiwiZGF0YSIsImkiLCJsZW5ndGgiLCJuYW1lIiwidmFsdWUiLCJyYXRlcyIsInNldFRpbWVvdXQiLCJmYWlsIiwiZml4ZXJpb19hcGkiLCJpbml0aWFsaXplIiwibWFpbiIsImxvY2F0aW9uRGF0YSIsImFwcGx5QmluZGluZ3MiLCJpbml0TWFwIiwiZXZlbnQiLCJhZGREb21MaXN0ZW5lciIsIndpbmRvdyIsImdvb2dsZUVycm9yIiwiJCIsInRleHQiLCJyb21lLWFwcCIsImFkZHJlc3MiLCJ3ZWJzaXRlIiwid2lraSIsInR5cGUiLCJrZXl3b3JkcyIsIkxvY2F0aW9uIiwiaW5pdERhdGEiLCJoYXNNYXJrZXIiLCJtYXJrZXJzIiwidmlzaWJsZSIsIndpa2lEaXNwbGF5IiwiaW5mbyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwic2V0Rm9jdXMiLCJ0cmlnZ2VyIiwidW5zZXRGb2N1cyIsImZvYyIsImFkZE1hcmtlciIsIkdlb2NvZGVyU3RhdHVzIiwiT0siLCJyb29mVG9wIiwiYXBwcm94IiwiZ2VvQ2VudGVyIiwicHJvcGVyTG9jYXRpb24iLCJsb2NfdHlwZSIsImdlb21ldHJ5IiwibG9jYXRpb25fdHlwZSIsInB1c2giLCJNYXJrZXIiLCJwb3NpdGlvbiIsImxvY2F0aW9uIiwiZHJhZ2dhYmxlIiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwiRFJPUCIsInRpdGxlIiwibGVuTWFyayIsImFkZExpc3RlbmVyIiwiZ2V0QW5pbWF0aW9uIiwic2V0QW5pbWF0aW9uIiwiY2xvc2UiLCJCT1VOQ0UiLCJzZXRDb250ZW50Iiwib3BlbiIsImlzVmlzaWJsZSIsImlzSXQiLCJzZXRNYXAiLCJpdCIsInBhcnRpYWwiLCJwYXJ0aWFsZCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJ3aWtpR2V0IiwiZ2VvIiwiYmFzZXVybCIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsImRvbmUiLCJjb250ZW50IiwicmVwbGFjZSIsImZhaWxlZCIsImFsd2F5cyIsImdlb2NvZGUiLCJ0b1N0cmluZyIsImpzb25EYXRhIiwibG9jYXRpb25zIiwiZm9yRWFjaCIsIml0ZW0iLCJzdHJpbmd5Il0sIm1hcHBpbmdzIjoiQUFpWkEsUUFBU0EsZUFBY0MsR0FDbkIsR0FBSUMsR0FBT0MsSUFFWEQsR0FBS0UsV0FBYUMsR0FBR0MsaUJBQWlCLEdBQUlDLFVBQVMsTUFBTyxHQUFNLEdBQUlBLFVBQVMsTUFBTyxHQUFJLEdBQUlBLFVBQVMsTUFBTyxHQUFJLEdBQUlBLFVBQVMsTUFBTyxHQUFJLEdBQUlBLFVBQVMsTUFBTyxHQUFJLEdBQUlBLFVBQVMsTUFBTyxHQUFJLEdBQUlBLFVBQVMsTUFBTyxLQUM1TUwsRUFBS00sV0FBYUgsR0FBR0ksV0FBVyxJQUNoQ1AsRUFBS1EsT0FBU0wsR0FBR0ksV0FBVyxJQUc1QlAsRUFBS1MsTUFBUUMsSUFBSyxLQUFNQyxJQUFLLE1BQzdCWCxFQUFLWSxJQUFNLEdBQUlDLFFBQU9DLEtBQUtDLElBQUlDLFNBQVNDLGVBQWUsWUFDbkRDLEtBQU0sR0FDTkMsT0FBUW5CLEVB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cUMsRUFBSXRDLEVBQUsrSCxZQUFZeEYsT0FBUyxFQUFHRCxHQUFLLEVBQUdBLElBQzlDdEMsRUFBSytILFlBQVl6RixHQUFHUCxPQUFPbUcsR0FRbkMsSUFBSTdILFVBQVcsU0FBVW1DLEVBQU1DLEdBQzNCLEdBQUl6QyxHQUFPQyxJQUNYRCxHQUFLd0MsS0FBT3JDLEdBQUdJLFdBQVdpQyxHQUFRLE9BQ2xDeEMsRUFBS3lDLE1BQVF0QyxHQUFHSSxXQUFXa0MsR0FBUyxHQUd4Q3BDLFVBQVNpRSxVQUFZQyxPQUFPQyxPQUFPRCxPQUFPRCxXQUMxQ2pFLFNBQVNpRSxVQUFVRyxZQUFjcEUsUUFzRWpDLElBQUkwQyIsImZpbGUiOiJhcHBkLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGxvY2F0aW9uRGF0YSA9IHtcbiAgICBcInJvbWUtYXBwXCI6IFsge1xuICAgIFwibmFtZVwiOiBcIkNvbG9zc2V1bVwiLFxuICAgIFwiYWRkcmVzc1wiOiBbXCJQaWF6emEgZGVsIENvbG9zc2VvLCBSb21lLCBJdGFseVwiXSxcbiAgICBcIndlYnNpdGVcIjogXCJodHRwOi8vd3d3LmNvb3BjdWx0dXJlLml0L2VuL3RoZS1jb2xvc3NldW0uY2ZtXCIsXG4gICAgXCJ3aWtpXCI6IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29sb3NzZXVtXCIsXG4gICAgXCJ0eXBlXCI6IDAsXG4gICAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgICAgIFwiZ2xhZGlhdG9yXCIsXG4gICAgICAgIFwiZmlnaHRcIixcbiAgICAgICAgXCJyaW5nXCIsXG4gICAgICAgIFwiZ2FtZXNcIixcbiAgICAgICAgXCJzcG9ydFwiXG4gICAgXVxuICAgIH0sIHtcbiAgICBcIm5hbWVcIjogXCJQYW50aGVvbiwgUm9tZVwiLFxuICAgIFwiYWRkcmVzc1wiOiBbXCJQaWF6emEgZGVsbGEgUm90b25kYSwgMDAxODYgUm9tYSwgSXRhbHlcIl0sXG4gICAgXCJ3ZWJzaXRlXCI6IFwiaHR0cDovL3d3dy50dXJpc21vcm9tYS5pdC9jb3NhLWZhcmUvcGFudGhlb24/bGFuZz1lblwiLFxuICAgIFwid2lraVwiOiBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BhbnRoZW9uLF9Sb21lXCIsXG4gICAgXCJ0eXBlXCI6IDAsXG4gICAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgICAgIFwiY2h1cmNoXCIsXG4gICAgICAgIFwiZG9tZVwiLFxuICAgICAgICBcInRlbXBsZVwiXG4gICAgXVxuICAgIH0sIHtcbiAgICBcIm5hbWVcIjogXCJTdC4gUGV0ZXIncyBCYXNpbGljYVwiLFxuICAgIFwiYWRkcmVzc1wiOiBbXCJQaWF6emEgU2FuIFBpZXRybywgMDAxMjAgQ2l0dMOgIGRlbCBWYXRpY2FubywgVmF0aWNhbiBDaXR5XCJdLFxuICAgIFwid2Vic2l0ZVwiOiBcImh0dHA6Ly93d3cudmF0aWNhbnN0YXRlLnZhL2NvbnRlbnQvdmF0aWNhbnN0YXRlL2VuL21vbnVtZW50aS9iYXNpbGljYS1kaS1zLXBpZXRyby5odG1sXCIsXG4gICAgXCJ3aWtpXCI6IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3QuX1BldGVyJTI3c19CYXNpbGljYVwiLFxuICAgIFwidHlwZVwiOiAwLFxuICAgIFwia2V5d29yZHNcIjogW1xuICAgICAgICBcImNodXJjaFwiLFxuICAgICAgICBcImJhc2lsaWNhXCIsXG4gICAgICAgIFwidmF0aWNhblwiLFxuICAgICAgICBcInBvcGVcIixcbiAgICAgICAgXCJwZXRlclwiLFxuICAgICAgICBcInNhaW50XCJcbiAgICBdXG4gICAgfSwge1xuICAgIFwibmFtZVwiOiBcIlB5cmFtaWQgb2YgQ2VzdGlhXCIsXG4gICAgXCJhZGRyZXNzXCI6IFtcIlZpYSBSYWZmYWVsZSBQZXJzaWNoZXR0aSwgMDAxNTMgUm9tYSwgSXRhbHlcIl0sXG4gICAgXCJ3ZWJzaXRlXCI6IFwiaHR0cDovL3d3dy5jb29wY3VsdHVyZS5pdC9lbi9oZXJpdGFnZS5jZm0/aWQ9NTlcIixcbiAgICBcIndpa2lcIjogXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QeXJhbWlkX29mX0Nlc3RpdXNcIixcbiAgICBcInR5cGVcIjogMCxcbiAgICBcImtleXdvcmRzXCI6IFtcbiAgICAgICAgXCJweXJhbWlkXCIsXG4gICAgICAgIFwiZ2FpdXNcIixcbiAgICAgICAgXCJjZXN0aXVzXCIsXG4gICAgICAgIFwidG9tYlwiLFxuICAgICAgICBcInJ1aW5zXCJcbiAgICBdXG4gICAgfSwge1xuICAgIFwibmFtZVwiOiBcIlVuZGVyZ3JvdW5kIEJhc2lsaWNhIG9mIFBvcnRhIE1hZ2dpb3JlXCIsXG4gICAgXCJhZGRyZXNzXCI6IFtcIlBpYXp6YWxlIExhYmljYW5vIGFuZ29sbyB2aWEgUHJlbmVzdGluYSwgVmlhIFByZW5lc3RpbmEsIFJvbWEsIEl0YWx5XCJdLFxuICAgIFwid2Vic2l0ZVwiOiBcImh0dHA6Ly9hcmNoZW9yb21hLmJlbmljdWx0dXJhbGkuaXQvZW4vYXJjaGFlb2xvZ2ljYWwtc2l0ZS91bmRlcmdyb3VuZC1iYXNpbGljYS1uZWFyLXBvcnRhLW1hZ2dpb3JlXCIsXG4gICAgXCJ3aWtpXCI6IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVW5kZXJncm91bmRfYmFzaWxpY2Ffb2ZfUG9ydGFfTWFnZ2lvcmVcIixcbiAgICBcInR5cGVcIjogMCxcbiAgICBcImtleXdvcmRzXCI6IFtcbiAgICAgICAgXCJiYXNpbGljYVwiLFxuICAgICAgICBcInVuZGVyZ3JvdW5kXCIsXG4gICAgICAgIFwibmVvcHl0aGFnb3JlYW5zXCJcbiAgICBdXG4gICAgfSwge1xuICAgIFwibmFtZVwiOiBcIlBhbGF6em8gRGVsbGUgRXNwb3NpemlvbmlcIixcbiAgICBcImFkZHJlc3NcIjogW1wiVmlhIE5hemlvbmFsZSwgMTk0LCAwMDE4NCBSb21hLCBJdGFseVwiXSxcbiAgICBcIndlYnNpdGVcIjogXCJodHRwOi8vZW5nbGlzaC5wYWxhenpvZXNwb3NpemlvbmkuaXQvSG9tZS5hc3B4XCIsXG4gICAgXCJ3aWtpXCI6IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGFsYXp6b19kZWxsZV9Fc3Bvc2l6aW9uaVwiLFxuICAgIFwidHlwZVwiOiAwLFxuICAgIFwia2V5d29yZHNcIjogW1xuICAgICAgICBcImV4aGliaXRpb25cIixcbiAgICAgICAgXCJoYWxsXCIsXG4gICAgICAgIFwiY3VsdHVyYWxcIixcbiAgICAgICAgXCJjZW50ZXJcIixcbiAgICAgICAgXCJtdXNldW1cIlxuICAgIF1cbiAgICB9LCB7XG4gICAgXCJuYW1lXCI6IFwiUGFsYXRpbmUgSGlsbFwiLFxuICAgIFwiYWRkcmVzc1wiOiBbXCJWaWEgZGVsbGEgU2FsYXJhIFZlY2NoaWEsIDUvNiwgUm9tYSwgSXRhbHlcIl0sXG4gICAgXCJ3ZWJzaXRlXCI6IFwiaHR0cDovL3d3dy5jb29wY3VsdHVyZS5pdC9lbi9oZXJpdGFnZS5jZm0/aWQ9NFwiLFxuICAgIFwid2lraVwiOiBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BhbGF0aW5lX0hpbGxcIixcbiAgICBcInR5cGVcIjogMCxcbiAgICBcImtleXdvcmRzXCI6IFtcbiAgICAgICAgXCJwYWxhdGluZVwiLFxuICAgICAgICBcImhpbGxcIixcbiAgICAgICAgXCJmb3J1bVwiLFxuICAgICAgICBcInJ1aW5zXCIsXG4gICAgICAgIFwiYW5jaWVudFwiLFxuICAgICAgICBcInJvbWVcIlxuICAgIF1cbiAgICB9LCB7XG4gICAgXCJuYW1lXCI6IFwiVG91cmlzdCBJbmZvcm1hdGlvbiBDZW50ZXJzXCIsXG4gICAgXCJhZGRyZXNzXCI6IFtcbiAgICAgICAgXCJWaWEgR2lvdmFubmkgR2lvbGl0dGkgMzQsIFJvbWEsIEl0YWx5XCIsXG4gICAgICAgIC8vTk9URTogQXBwYXJlbnRseSBJJ20gdXNpbmcgdGhlIGdlb2NvZGVyIGF0IHRvbyBmYXN0IG9mIGEgcmF0ZSBzbyBJXG4gICAgICAgIC8vICAgICAgY2FuIG9ubHkgdXNlIG9uZSBhZGRyZXNzIHdpdGhvdXQgcnVubmluZyBpbnRvIGFuIGlzc3VlLi4uXG4gICAgICAgIC8vXCJWaWEgZGkgU2FuIEJhc2lsaW8gNTEsIFJvbWEsIEl0YWx5XCIsXG4gICAgICAgIC8vXCJWaWEgTmF6aW9uYWxlLCAxOTQsIDAwMTg0IFJvbWEsIEl0YWx5XCIsXG4gICAgICAgIC8vXCJWaWEgZGVpIEZvcmkgSW1wZXJpYWxpLCBSb21hLCBJdGFseVwiXG4gICAgXSxcbiAgICBcIndlYnNpdGVcIjogXCJodHRwOi8vd3d3LnR1cmlzbW9yb21hLml0L2luZm9fdmlhZ2dpby9waXRcIixcbiAgICBcIndpa2lcIjogXCJub25lXCIsXG4gICAgXCJ0eXBlXCI6IDEsXG4gICAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgICAgIFwiaW5mb3JtYXRpb25cIixcbiAgICAgICAgXCJjZW50ZXJcIixcbiAgICAgICAgXCJwaXRcIixcbiAgICAgICAgXCJwb2ludFwiXG4gICAgXVxuICAgIH0sIHtcbiAgICBcIm5hbWVcIjpcIlJvbWEgVGVybWluaVwiLFxuICAgIFwiYWRkcmVzc1wiOiBbXCJSb21hIFRlcm1pbmksIEl0YWx5XCJdLFxuICAgIFwid2Vic2l0ZVwiOlwiaHR0cDovL3d3dy50cmVuaXRhbGlhLmNvbS90Y29tLWVuXCIsXG4gICAgXCJ3aWtpXCI6IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUm9tYV9UZXJtaW5pX3JhaWx3YXlfc3RhdGlvblwiLFxuICAgIFwidHlwZVwiOiAzLFxuICAgIFwia2V5d29yZHNcIjogW1xuICAgICAgICBcInRyYWluc1wiLFxuICAgICAgICBcInN0YXRpb25cIixcbiAgICAgICAgXCJjaG9vXCJcbiAgICBdXG4gICAgfSwge1xuICAgIFwibmFtZVwiOiBcIlRyZXZpIEZvdW50YWluXCIsXG4gICAgXCJhZGRyZXNzXCI6IFtcIlBpYXp6YSBkaSBUcmV2aSwgMDAxODcgUm9tYSwgSXRhbHlcIl0sXG4gICAgXCJ3ZWJzaXRlXCI6IFwiaHR0cDovL3d3dy50cmV2aWZvdW50YWluLm5ldC9cIixcbiAgICBcIndpa2lcIjogXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9UcmV2aV9Gb3VudGFpblwiLFxuICAgIFwidHlwZVwiOiAwLFxuICAgIFwia2V5d29yZHNcIjogW1xuICAgICAgICBcInRyZXZpXCIsXG4gICAgICAgIFwiZm91bnRhaW5cIixcbiAgICAgICAgXCJ3aXNoXCIsXG4gICAgICAgIFwic2FsdmlcIixcbiAgICAgICAgXCJicmFjY2lcIlxuICAgIF1cbiAgICB9XG4gIF1cbn07XG5cblxudmFyIExvY2F0aW9uID0gZnVuY3Rpb24oIG1hcCwgaW5pdERhdGEsIGluZm9XaW5kb3cpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5uYW1lID0gIGluaXREYXRhLm5hbWUgfHwgJycgO1xuICAgIHNlbGYuYWRkcmVzcyA9IGluaXREYXRhLmFkZHJlc3MgfHwgW107XG4gICAgc2VsZi53aWtpID0gaW5pdERhdGEud2lraSB8fCAnJyA7XG4gICAgc2VsZi50eXBlID0gaW5pdERhdGEudHlwZSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogMCAtIEhpc3RvcmljYWwgTWFya2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxIC0gSW5mb3JtYXRpb24gQ2VudGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC0gUmVzdGF1cmFudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMyAtIFRyYW5zcG9ydGF0aW9uIEh1YiBidXMvdHJhaW4vYWlycG9ydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAtIENodXJjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNSAtIE90aGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICBzZWxmLndlYnNpdGUgPSBpbml0RGF0YS53ZWJzaXRlIHx8ICcnO1xuICAgIHNlbGYua2V5d29yZHMgPSBpbml0RGF0YS5rZXl3b3JkcyB8fCBbXTtcbiAgICBzZWxmLmhhc01hcmtlciA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHNlbGYubWFya2VycyA9IFtdO1xuICAgIHNlbGYudmlzaWJsZSA9IGtvLm9ic2VydmFibGUodHJ1ZSk7XG4gICAgc2VsZi53aWtpRGlzcGxheSA9IFwiXCI7XG4gICAgc2VsZi5tYXAgPSBtYXA7XG4gICAgc2VsZi5pbmZvID0gaW5mb1dpbmRvdztcbn07XG5Mb2NhdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5wcm90b3R5cGUpO1xuTG9jYXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9jYXRpb247XG5cbkxvY2F0aW9uLnByb3RvdHlwZS5zZXRGb2N1cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHNlbGYubWFya2Vyc1swXSwgJ2NsaWNrJyk7XG4gICAgLy8gY29uc29sZS5sb2coXCJSYW4gdGhydSBzZXQgRm9jdXNcIik7XG59O1xuXG5Mb2NhdGlvbi5wcm90b3R5cGUudW5zZXRGb2N1cyA9IGZ1bmN0aW9uIChmb2MpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFmb2MpIHtcbiAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcihzZWxmLm1hcmtlcnNbMF0sICdjbGljaycpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwiUmFuIHRocnUgdW5zZXQgRm9jdXNcIik7XG59O1xuXG5Mb2NhdGlvbi5wcm90b3R5cGUuYWRkTWFya2VyID0gZnVuY3Rpb24gKGRhdGEsIHN0YXR1cykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoc3RhdHVzID09IGdvb2dsZS5tYXBzLkdlb2NvZGVyU3RhdHVzLk9LKSB7XG4gICAgICAgIHZhciByb29mVG9wID0gLTE7XG4gICAgICAgIHZhciBhcHByb3ggPSAtMTtcbiAgICAgICAgdmFyIGdlb0NlbnRlciA9IC0xO1xuICAgICAgICB2YXIgcHJvcGVyTG9jYXRpb24gPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gZGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGxvY190eXBlID0gZGF0YVtpXS5nZW9tZXRyeS5sb2NhdGlvbl90eXBlO1xuICAgICAgICAgICAgaWYgKGxvY190eXBlID09IFwiUk9PRlRPUFwiKXtcbiAgICAgICAgICAgICAgICByb29mVG9wID0gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jX3R5cGUgPT0gXCJHRU9NRVRSSUNfQ0VOVEVSXCIpIHtcbiAgICAgICAgICAgICAgICBnZW9DZW50ZXIgPSBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NfdHlwZSA9PSBcIkFQUFJPWElNQVRFXCIpIHtcbiAgICAgICAgICAgICAgICBhcHByb3ggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyb29mVG9wID49IDApIHtcbiAgICAgICAgICAgIHByb3BlckxvY2F0aW9uID0gcm9vZlRvcDtcbiAgICAgICAgfSBlbHNlIGlmIChhcHByb3ggPj0gMCkge1xuICAgICAgICAgICAgcHJvcGVyTG9jYXRpb24gPSBhcHByb3g7XG4gICAgICAgIH0gZWxzZSBpZiAoZ2VvQ2VudGVyID49IDApIHtcbiAgICAgICAgICAgIHByb3BlckxvY2F0aW9uID0gZ2VvQ2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYubWFya2Vycy5wdXNoKG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICAgICAgcG9zaXRpb246IHtsYXQ6IGRhdGFbcHJvcGVyTG9jYXRpb25dLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpLFxuICAgICAgICAgICAgICAgICAgICAgICBsbmc6IGRhdGFbcHJvcGVyTG9jYXRpb25dLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpfSxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBhbmltYXRpb246IGdvb2dsZS5tYXBzLkFuaW1hdGlvbi5EUk9QLFxuICAgICAgICAgICAgbWFwOiBzZWxmLm1hcCxcbiAgICAgICAgICAgIHRpdGxlOiBzZWxmLm5hbWVcbiAgICAgICAgfSkpO1xuICAgICAgICAvLyBPcmlnaW5hbGx5IEkgaGFkIG11bHRpcGxlIGFkZHJlc3MgZm9yIHRoZSB0b3VyaXN0IGluZm9ybWF0aW9uIGNlbnRlclxuICAgICAgICAvLyBidXQgZHVlIHRvIGEgZ2VvY29kZXIgZXJyb3IgSSBkZWNpZGVkIHRvIG9ubHkgZ28gd2l0aCBvbmUgc28gSSB3b3VsZFxuICAgICAgICAvLyBvbmx5IG5lZWQgb25lIEluZm9XaW5kb3cgcGVyIExvY2F0aW9uXG5cbiAgICAgICAgdmFyIGxlbk1hcmsgPSBzZWxmLm1hcmtlcnMubGVuZ3RoIC0gMTtcblxuICAgICAgICAvLyBBZGRpbmcgb3BlbmluZyBvZiBJbmZvV2luZG93IG9uIGEgY2xpY2sgZXZlbnQgYWxvbmcgd2l0aCBhbiBhbmltYXRpb24uXG4gICAgICAgIC8vIEEgc2Vjb25kIGNsaWNrIHdpbGwgdHVybiBvZmYgdGhlIGFuaW1hdGlvbiBhbmQgY2xvc2UgdGhlIGluZm93aW5kb3dcbiAgICAgICAgc2VsZi5tYXJrZXJzW2xlbk1hcmtdLmFkZExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBpZiAoc2VsZi5tYXJrZXJzW2xlbk1hcmtdLmdldEFuaW1hdGlvbigpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tYXJrZXJzW2xlbk1hcmtdLnNldEFuaW1hdGlvbihudWxsKTtcbiAgICAgICAgICAgICAgICBzZWxmLmluZm8uY2xvc2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tYXJrZXJzW2xlbk1hcmtdLnNldEFuaW1hdGlvbihnb29nbGUubWFwcy5BbmltYXRpb24uQk9VTkNFKTtcbiAgICAgICAgICAgICAgICBzZWxmLmluZm8uc2V0Q29udGVudChzZWxmLndpa2lEaXNwbGF5KTtcbiAgICAgICAgICAgICAgICBzZWxmLmluZm8ub3BlbihzZWxmLm1hcCwgc2VsZi5tYXJrZXJzW2xlbk1hcmtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGYuaW5mby5hZGRMaXN0ZW5lcignY2xvc2VjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5pbmZvLmNsb3NlKCk7XG4gICAgICAgICAgICBzZWxmLm1hcmtlcnNbbGVuTWFya10uc2V0QW5pbWF0aW9uKG51bGwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZWxmLmhhc01hcmtlcih0cnVlKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciB0cnlpbmcgdG8gYWNjZXNzIHRoZSBHZW9jb2Rlci4gU3RhdHVzOlwiLCBzdGF0dXMpO1xuICAgIH1cblxuICAgIHJldHVybiAtMTtcbn07XG5cbkxvY2F0aW9uLnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbihpc0l0KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYudmlzaWJsZShpc0l0KTtcbiAgICBpZiAoaXNJdCkge1xuICAgICAgICBmb3IgKHZhciBpID0gc2VsZi5tYXJrZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBzZWxmLm1hcmtlcnNbaV0uc2V0TWFwKHNlbGYubWFwKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGl0ID0gc2VsZi5tYXJrZXJzLmxlbmd0aCAtIDE7IGl0ID49IDA7IGl0LS0pIHtcbiAgICAgICAgICAgIHNlbGYubWFya2Vyc1tpdF0uc2V0TWFwKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuXG5cbkxvY2F0aW9uLnByb3RvdHlwZS5zZWFyY2ggPSBmdW5jdGlvbihwYXJ0aWFsKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwYXJ0aWFsZCA9IHBhcnRpYWwudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAocGFydGlhbGQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHNlbGYuaXNWaXNpYmxlKHRydWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHNlbGYubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHBhcnRpYWxkKSkge1xuICAgICAgICBzZWxmLmlzVmlzaWJsZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IHNlbGYua2V5d29yZHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmKHNlbGYua2V5d29yZHNbaV0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXJ0aWFsZCkpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmlzVmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWxmLmlzVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59O1xuXG4vLyBTZXRzIHdpa2lEaXNwbGF5IGluIGFkZGl0aW9uIHRvIHdlYnNpdGUgVVJMXG5Mb2NhdGlvbi5wcm90b3R5cGUud2lraUdldCA9IGZ1bmN0aW9uKGdlbykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYmFzZXVybCA9ICdodHRwczovL2VuLndpa2lwZWRpYS5vcmcvdy9hcGkucGhwJztcblxuICAgICQuYWpheCh7XG4gICAgICAgIHVybDogYmFzZXVybCArICc/YWN0aW9uPW9wZW5zZWFyY2gmc2VhcmNoPScgKyBzZWxmLm5hbWUgKyAnJmZvcm1hdD1qc29uJyxcbiAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbnAnXG4gICAgICAgIH0pXG4gICAgICAgIC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIERPTkU6IExvb2sgdXAgZm9ybWF0IHR5cGUgYW5kIGVudGVyIGl0IHRvIHJlcGxhY2UgdGhlIFRpdGxlLCBkZXNjcmlwdGlvbiwgd2lraXVybCwgYW5kIHdlYnNpdGUgdXJsXG4gICAgICAgICAgICB2YXIgY29udGVudCA9ICc8aDM+JVRJVExFJTwvaDM+PHA+JURFU0NSSVBUSU9OJTwvcD48cD5GaW5kIG91dCBtb3JlJ1xuICAgICAgICAgICAgKyAnIDxhIGhyZWY9XCIlV0lLSVVSTCVcIj5oZXJlPC9hPiBhdCBXaWtpcGVkaWEgb3IgPGEgaHJlZj1cIiVXRUJVUkwlXCInXG4gICAgICAgICAgICArICc+aGVyZTwvYT4gYXQgdGhlIGhvbWUgcGFnZS48L3A+JztcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoJyVXRUJVUkwlJywgc2VsZi53ZWJzaXRlKTtcbiAgICAgICAgICAgIGlmIChzZWxmLndpa2kgIT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gZGF0YVszXS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICBpZiggZGF0YVszXVtpXSA9PSBzZWxmLndpa2kgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoJyVUSVRMRSUnLCBkYXRhWzFdW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoJyVERVNDUklQVElPTiUnLCBkYXRhWzJdW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoJyVXSUtJVVJMJScsIHNlbGYud2lraSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLndpa2lEaXNwbGF5ID0gY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxmLndpa2lEaXNwbGF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKCclVElUTEUlJywgZGF0YVsxXVswXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoJyVERVNDUklQVElPTiUnLCBkYXRhWzJdWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgnJVdJS0lVUkwlJywgc2VsZi53aWtpKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi53aWtpRGlzcGxheSA9IGNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZmFpbGVkID0gJzxoMz4lTkFNRSU8L2gzPjxwPkNvdWxkIG5vdCBmaW5kIGFueSBkYXRhIGZyb20gJ1xuICAgICAgICAgICAgICAgICsgJ1dpa2lwZWRpYSBmcm9tIHRoaXMgbG9jYXRpb24gYnV0IHlvdSBjYW4gZ28gdG8gdGhlIHdlYnNpdGUgJ1xuICAgICAgICAgICAgICAgICsgJzxhIGhyZWY9XCIlV0VCVVJMJVwiPmhlcmU8L2E+PC9wPic7XG4gICAgICAgICAgICAgICAgZmFpbGVkID0gZmFpbGVkLnJlcGxhY2UoJyVOQU1FJScsIHNlbGYubmFtZSk7XG4gICAgICAgICAgICAgICAgZmFpbGVkID0gZmFpbGVkLnJlcGxhY2UoJyVXRUJVUkwlJywgc2VsZi53ZWJzaXRlKTtcbiAgICAgICAgICAgICAgICBzZWxmLndpa2lEaXNwbGF5ID0gZmFpbGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZmFpbChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgQUpBWCByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgdmFyIGZhaWxlZCA9ICc8aDM+JU5BTUUlPC9oMz48cD5Db3VsZCBub3QgZmluZCBhbnkgZGF0YSBmcm9tICdcbiAgICAgICAgICAgICsgJ1dpa2lwZWRpYSBmcm9tIHRoaXMgbG9jYXRpb24gYnV0IHlvdSBjYW4gZ28gdG8gdGhlIHdlYnNpdGUgJ1xuICAgICAgICAgICAgKyAnPGEgaHJlZj1cIiVXRUJVUkwlXCI+aGVyZTwvYT48L3A+JztcbiAgICAgICAgICAgIGZhaWxlZCA9IGZhaWxlZC5yZXBsYWNlKCclTkFNRSUnLCBzZWxmLm5hbWUpO1xuICAgICAgICAgICAgZmFpbGVkID0gZmFpbGVkLnJlcGxhY2UoJyVXRUJVUkwlJywgc2VsZi53ZWJzaXRlKTtcbiAgICAgICAgICAgIHNlbGYud2lraURpc3BsYXkgPSBmYWlsZWQ7XG5cblxuICAgICAgICB9KVxuICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzZWxmLmFkZHJlc3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBnZW8uZ2VvY29kZSh7IGFkZHJlc3M6IHNlbGYuYWRkcmVzc1tpXX0sIGZ1bmN0aW9uKGRhdGEsIHN0YXR1cyl7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkTWFya2VyKGRhdGEsIHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gXCJaRVJPX1JFU1VMVFNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn07XG5cbnZhciBMb2NDb250YWluZXIgPSBmdW5jdGlvbiAoanNvbkRhdGEsIG1hcCwgaW5mb1dpbmRvdykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLm1hcCA9IG1hcDtcbiAgICBzZWxmLmxvY2F0aW9ucyA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xuICAgIGpzb25EYXRhWydyb21lLWFwcCddLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgc2VsZi5sb2NhdGlvbnMucHVzaChuZXcgTG9jYXRpb24oc2VsZi5tYXAsIGl0ZW0sIGluZm9XaW5kb3cpKTtcbiAgICB9KTtcbiAgICAvLyBzZWxmLmFjdGl2ZVxufTtcblxuTG9jQ29udGFpbmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LnByb3RvdHlwZSk7XG5Mb2NDb250YWluZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9jQ29udGFpbmVyO1xuXG5Mb2NDb250YWluZXIucHJvdG90eXBlLnNldFZpZXcgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5sb2NhdGlvbnMoKS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2VsZi5sb2NhdGlvbnMoKVtpXS50eXBlID09IHR5cGUpIHtcbiAgICAgICAgICAgIHNlbGYubG9jYXRpb25zKClbaV0uaXNWaXNpYmxlKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYoIHR5cGUgPT09IDIpIHtcbiAgICAgICAgICAgIHNlbGYubG9jYXRpb25zKClbaV0uaXNWaXNpYmxlKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5sb2NhdGlvbnMoKVtpXS5pc1Zpc2libGUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuTG9jQ29udGFpbmVyLnByb3RvdHlwZS53aWtpR2V0cyA9IGZ1bmN0aW9uIChnZW8pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZm9yICh2YXIgaSA9IHNlbGYubG9jYXRpb25zKCkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgc2VsZi5sb2NhdGlvbnMoKVtpXS53aWtpR2V0KGdlbyk7XG4gICAgfVxufTtcblxuTG9jQ29udGFpbmVyLnByb3RvdHlwZS5zZWFyY2ggPSBmdW5jdGlvbihzdHJpbmd5KSB7XG4gICAgLy8gVE9ETzogQWRkIHdyYXBwZXIgZnVuY3Rpb25hbGl0eSBpbnRvIGVhY2ggbG9jYXRpb24ncyBzZWFyY2ggZnVuY3Rpb25cbiAgICAvLyBvbmNlIHNldFZpZXcgYW5kIGFsbCBtYXJrZXJzIGNhbiBiZSB2aWV3ZWQuLi5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZm9yICh2YXIgaSA9IHNlbGYubG9jYXRpb25zKCkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgc2VsZi5sb2NhdGlvbnMoKVtpXS5zZWFyY2goc3RyaW5neSk7XG4gICAgfVxufTtcblxuXG5cblxuXG52YXIgQ3VycmVuY3kgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5uYW1lID0ga28ub2JzZXJ2YWJsZShuYW1lIHx8ICdVU0QnKTtcbiAgICBzZWxmLnZhbHVlID0ga28ub2JzZXJ2YWJsZSh2YWx1ZSB8fCAwLjApO1xufTtcblxuQ3VycmVuY3kucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPYmplY3QucHJvdG90eXBlKTtcbkN1cnJlbmN5LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEN1cnJlbmN5O1xuXG5mdW5jdGlvbiBNYWluVmlld01vZGVsKGpzb25GaWxlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5jdXJyZW5jaWVzID0ga28ub2JzZXJ2YWJsZUFycmF5KFtuZXcgQ3VycmVuY3koJ0VVUicsIDEuMCksIG5ldyBDdXJyZW5jeSgnVVNEJywgMCksIG5ldyBDdXJyZW5jeSgnQ0hGJywgMCksIG5ldyBDdXJyZW5jeSgnR0JQJywgMCksIG5ldyBDdXJyZW5jeSgnQVVEJywgMCksIG5ldyBDdXJyZW5jeSgnQ0FEJywgMCksIG5ldyBDdXJyZW5jeSgnQ1pLJywgMCldKTtcbiAgICBzZWxmLnNlYXJjaFRlcm0gPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuICAgIHNlbGYuc3RhdHVzID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcblxuICAgIC8qRE9ORTogVmlldyBwYXJ0IGZvciB0aGUgTWFwKi9cbiAgICBzZWxmLlJvbWUgPSB7bGF0OiA0MS45LCBsbmc6IDEyLjV9O1xuICAgIHNlbGYubWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9tZU1hcCcpLCB7XG4gICAgICAgIHpvb206IDEzLFxuICAgICAgICBjZW50ZXI6IHNlbGYuUm9tZVxuICAgIH0pO1xuICAgIHNlbGYuaW5mb1dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHt6SW5kZXg6IDJ9KTtcbiAgICBzZWxmLmxhdExuZ0ZpbmRlciA9IG5ldyBnb29nbGUubWFwcy5HZW9jb2RlcigpO1xuICAgIC8vIERPTkU6IENyZWF0ZSBPYnNlcnZhYmxlQXJyYXkgb2YgZWFjaCBMb2NhdGlvbiBmcm9tIHRoZSBqc29uRmlsZVxuICAgIHNlbGYuY29udGFpbmVyID0ga28ub2JzZXJ2YWJsZShuZXcgTG9jQ29udGFpbmVyKGpzb25GaWxlLCBzZWxmLm1hcCwgc2VsZi5pbmZvV2luZG93KSk7XG5cbiAgICBzZWxmLmNvbnRhaW5lcigpLndpa2lHZXRzKHNlbGYubGF0TG5nRmluZGVyKTtcblxuICAgIHNlbGYuc2V0VmlldyA9IGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgIHNlbGYuY29udGFpbmVyKCkuc2V0Vmlldyh2aWV3KTtcbiAgICB9O1xuXG4gICAgc2VsZi5zZWFyY2hJdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5jb250YWluZXIoKS5zZWFyY2goc2VsZi5zZWFyY2hUZXJtKCkpO1xuICAgICAgICBjb25zb2xlLmxvZyhzZWxmLnNlYXJjaFRlcm0oKSk7XG4gICAgfTtcblxuICAgIHNlbGYuZml4ZXJpb191cGRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgalF1ZXJ5LmdldEpTT04oJ2h0dHA6Ly9hcGkuZml4ZXIuaW8vbGF0ZXN0JywgZnVuY3Rpb24oZGF0YSkgeyAvLyBFVVIgaXMgdGhlIGRlZmF1bHQgYmFzZS4gU2VlIGZpeGVyLmlvXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuY3VycmVuY2llcygpLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuY3VycmVuY2llcygpW2ldLm5hbWUoKSA9PSBcIkVVUlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVuY2llcygpW2ldLnZhbHVlKDEuMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW5jaWVzKClbaV0udmFsdWUoZGF0YS5yYXRlc1tzZWxmLmN1cnJlbmNpZXMoKVtpXS5uYW1lKCldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLnN0YXR1cyhcIlBhc3NpbmcgQWpheCBSZXF1ZXN0LlwiKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoc2VsZi5maXhlcmlvX3VwZGF0ZSwgMzAwMDAwKTtcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXR1cyhcIkZhaWxpbmcgQWpheCBSZXF1ZXN0LiBTdGlja2luZyB0byBsYXN0IGtub3duIGV4Y2hhbmdlIHJhdGVcIik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzZWxmLmZpeGVyaW9fYXBpID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBqUXVlcnkuZ2V0SlNPTignaHR0cDovL2FwaS5maXhlci5pby9sYXRlc3QnLCBmdW5jdGlvbihkYXRhKSB7IC8vIEVVUiBpcyB0aGUgZGVmYXVsdCBiYXNlLiBTZWUgZml4ZXIuaW9cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmN1cnJlbmNpZXMoKS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmN1cnJlbmNpZXMoKVtpXS5uYW1lKCkgPT0gXCJFVVJcIikge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbmNpZXMoKVtpXS52YWx1ZSgxLjApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEucmF0ZXNbc2VsZi5jdXJyZW5jaWVzKClbaV0ubmFtZSgpXSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVuY2llcygpW2ldLnZhbHVlKGRhdGEucmF0ZXNbc2VsZi5jdXJyZW5jaWVzKClbaV0ubmFtZSgpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5zdGF0dXMoXCJQYXNzaW5nIEFqYXggUmVxdWVzdC5cIik7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHNlbGYuZml4ZXJpb191cGRhdGUsIDMwMDAwMCk7XG4gICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5zdGF0dXMoXCJGYWlsaW5nIEFqYXggUmVxdWVzdC4gU3RpY2tpbmcgdG8gbGFzdCBrbm93biBleGNoYW5nZSByYXRlXCIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHNlbGYuZml4ZXJpb19hcGkoKTtcblxuICAgIHNlbGYuc2V0VmlldygwKTtcblxuXG59XG52YXIgbWFpbjtcbmZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgbWFpbiA9IG5ldyBNYWluVmlld01vZGVsKGxvY2F0aW9uRGF0YSk7XG4gICAga28uYXBwbHlCaW5kaW5ncyhtYWluKTtcbn1cbmZ1bmN0aW9uIGluaXRNYXAoKSB7XG4gICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIod2luZG93LCBcImxvYWRcIiwgaW5pdGlhbGl6ZSk7XG4gICAgLy8gY29uc29sZS5sb2coXCJydW5uaW5nIGluaXRELi4uXCIpO1xufVxuXG5mdW5jdGlvbiBnb29nbGVFcnJvcigpIHtcbiAgICB2YXIgbWFwID0gJCgnI3JvbWVNYXAnKTtcbiAgICBjb25zb2xlLmxvZygnb25FcnJvciBydW5zIScpO1xuICAgIG1hcC50ZXh0KFwiPGRpdiBpZD0nZ29vZ2xlRXJyb3InPjxoMT5FcnJvciBMb2FkaW5nIEdvb2dsZSBNYXBzISEhPC9oMT48cD5QbGVhc2UgY29udGFjdCBKYWNvYiBCcnlhbiBhdCBqYWtlQGpha2Vicnlhbi5tZSBmb3IgYXNzaXN0YW5jZSBpbiBmaXhpbmcgdGhlIHByb2JsZW0hPC9wPjwvZGl2PlwiKTtcbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
